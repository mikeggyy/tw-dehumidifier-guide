var G=Object.defineProperty;var J=(r,s,a)=>s in r?G(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a;var B=(r,s,a)=>J(r,typeof s!="symbol"?s+"":s,a);import{a1 as Y,a2 as L,r as C,a3 as Q,a4 as X,a0 as tt,a5 as et,a as at,A as rt,a6 as T,a7 as st,B as nt,k as it,h as ot,a8 as k,M as ct,a9 as ut,c as O,aa as lt,ab as U,ac as A}from"./70IZNXNn.js";const dt=r=>r==="defer"||r===!1;function ft(...r){var d;const s=typeof r[r.length-1]=="string"?r.pop():void 0;typeof r[0]!="string"&&r.unshift(s);let[a,e,t={}]=r;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof e!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const n=Y(),o=e,y=()=>L.value,g=()=>n.isHydrating?n.payload.data[a]:n.static.data[a];t.server=t.server??!0,t.default=t.default??y,t.getCachedData=t.getCachedData??g,t.lazy=t.lazy??!1,t.immediate=t.immediate??!0,t.deep=t.deep??L.deep,t.dedupe=t.dedupe??"cancel";const h=()=>t.getCachedData(a,n)!=null;if(!n._asyncData[a]||!t.immediate){(d=n.payload._errors)[a]??(d[a]=L.errorValue);const l=t.deep?C:Q;n._asyncData[a]={data:l(t.getCachedData(a,n)??t.default()),pending:C(!h()),error:X(n.payload._errors,a),status:C("idle"),_default:t.default}}const c={...n._asyncData[a]};delete c._default,c.refresh=c.execute=(l={})=>{if(n._asyncDataPromises[a]){if(dt(l.dedupe??t.dedupe))return n._asyncDataPromises[a];n._asyncDataPromises[a].cancelled=!0}if((l._initial||n.isHydrating&&l._initial!==!1)&&h())return Promise.resolve(t.getCachedData(a,n));c.pending.value=!0,c.status.value="pending";const u=new Promise((f,p)=>{try{f(o(n))}catch(v){p(v)}}).then(async f=>{if(u.cancelled)return n._asyncDataPromises[a];let p=f;t.transform&&(p=await t.transform(f)),t.pick&&(p=pt(p,t.pick)),n.payload.data[a]=p,c.data.value=p,c.error.value=L.errorValue,c.status.value="success"}).catch(f=>{if(u.cancelled)return n._asyncDataPromises[a];c.error.value=nt(f),c.data.value=it(t.default()),c.status.value="error"}).finally(()=>{u.cancelled||(c.pending.value=!1,delete n._asyncDataPromises[a])});return n._asyncDataPromises[a]=u,n._asyncDataPromises[a]},c.clear=()=>ht(n,a);const w=()=>c.refresh({_initial:!0}),m=t.server!==!1&&n.payload.serverRendered;{const l=tt();if(l&&!l._nuxtOnBeforeMountCbs){l._nuxtOnBeforeMountCbs=[];const p=l._nuxtOnBeforeMountCbs;et(()=>{p.forEach(v=>{v()}),p.splice(0,p.length)}),at(()=>p.splice(0,p.length))}m&&n.isHydrating&&(c.error.value||h())?(c.pending.value=!1,c.status.value=c.error.value?"error":"success"):l&&(n.payload.serverRendered&&n.isHydrating||t.lazy)&&t.immediate?l._nuxtOnBeforeMountCbs.push(w):t.immediate&&w();const u=st();if(t.watch){const p=rt(t.watch,()=>c.refresh());u&&T(p)}const f=n.hook("app:data:refresh",async p=>{(!p||p.includes(a))&&await c.refresh()});u&&T(f)}const i=Promise.resolve(n._asyncDataPromises[a]).then(()=>c);return Object.assign(i,c),i}function ht(r,s){s in r.payload.data&&(r.payload.data[s]=void 0),s in r.payload._errors&&(r.payload._errors[s]=L.errorValue),r._asyncData[s]&&(r._asyncData[s].data.value=void 0,r._asyncData[s].error.value=L.errorValue,r._asyncData[s].pending.value=!1,r._asyncData[s].status.value="idle"),s in r._asyncDataPromises&&(r._asyncDataPromises[s]&&(r._asyncDataPromises[s].cancelled=!0),r._asyncDataPromises[s]=void 0)}function pt(r,s){const a={};for(const e of s)a[e]=r[e];return a}const H=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function yt(r,s){s?s={...H,...s}:s=H;const a=j(s);return a.dispatch(r),a.toString()}const gt=Object.freeze(["prototype","__proto__","constructor"]);function j(r){let s="",a=new Map;const e=t=>{s+=t};return{toString(){return s},getContext(){return a},dispatch(t){return r.replacer&&(t=r.replacer(t)),this[t===null?"null":typeof t](t)},object(t){if(t&&typeof t.toJSON=="function")return this.object(t.toJSON());const n=Object.prototype.toString.call(t);let o="";const y=n.length;y<10?o="unknown:["+n+"]":o=n.slice(8,y-1),o=o.toLowerCase();let g=null;if((g=a.get(t))===void 0)a.set(t,a.size);else return this.dispatch("[CIRCULAR:"+g+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(t))return e("buffer:"),e(t.toString("utf8"));if(o!=="object"&&o!=="function"&&o!=="asyncfunction")this[o]?this[o](t):r.ignoreUnknown||this.unkown(t,o);else{let h=Object.keys(t);r.unorderedObjects&&(h=h.sort());let c=[];r.respectType!==!1&&!V(t)&&(c=gt),r.excludeKeys&&(h=h.filter(m=>!r.excludeKeys(m)),c=c.filter(m=>!r.excludeKeys(m))),e("object:"+(h.length+c.length)+":");const w=m=>{this.dispatch(m),e(":"),r.excludeValues||this.dispatch(t[m]),e(",")};for(const m of h)w(m);for(const m of c)w(m)}},array(t,n){if(n=n===void 0?r.unorderedArrays!==!1:n,e("array:"+t.length+":"),!n||t.length<=1){for(const g of t)this.dispatch(g);return}const o=new Map,y=t.map(g=>{const h=j(r);h.dispatch(g);for(const[c,w]of h.getContext())o.set(c,w);return h.toString()});return a=o,y.sort(),this.array(y,!1)},date(t){return e("date:"+t.toJSON())},symbol(t){return e("symbol:"+t.toString())},unkown(t,n){if(e(n),!!t&&(e(":"),t&&typeof t.entries=="function"))return this.array(Array.from(t.entries()),!0)},error(t){return e("error:"+t.toString())},boolean(t){return e("bool:"+t)},string(t){e("string:"+t.length+":"),e(t)},function(t){e("fn:"),V(t)?this.dispatch("[native]"):this.dispatch(t.toString()),r.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(t.name)),r.respectFunctionProperties&&this.object(t)},number(t){return e("number:"+t)},xml(t){return e("xml:"+t.toString())},null(){return e("Null")},undefined(){return e("Undefined")},regexp(t){return e("regex:"+t.toString())},uint8array(t){return e("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},uint8clampedarray(t){return e("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},int8array(t){return e("int8array:"),this.dispatch(Array.prototype.slice.call(t))},uint16array(t){return e("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},int16array(t){return e("int16array:"),this.dispatch(Array.prototype.slice.call(t))},uint32array(t){return e("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},int32array(t){return e("int32array:"),this.dispatch(Array.prototype.slice.call(t))},float32array(t){return e("float32array:"),this.dispatch(Array.prototype.slice.call(t))},float64array(t){return e("float64array:"),this.dispatch(Array.prototype.slice.call(t))},arraybuffer(t){return e("arraybuffer:"),this.dispatch(new Uint8Array(t))},url(t){return e("url:"+t.toString())},map(t){e("map:");const n=[...t];return this.array(n,r.unorderedSets!==!1)},set(t){e("set:");const n=[...t];return this.array(n,r.unorderedSets!==!1)},file(t){return e("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},blob(){if(r.ignoreUnknown)return e("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return e("domwindow")},bigint(t){return e("bigint:"+t.toString())},process(){return e("process")},timer(){return e("timer")},pipe(){return e("pipe")},tcp(){return e("tcp")},udp(){return e("udp")},tty(){return e("tty")},statwatcher(){return e("statwatcher")},securecontext(){return e("securecontext")},connection(){return e("connection")},zlib(){return e("zlib")},context(){return e("context")},nodescript(){return e("nodescript")},httpparser(){return e("httpparser")},dataview(){return e("dataview")},signal(){return e("signal")},fsevent(){return e("fsevent")},tlswrap(){return e("tlswrap")}}}const q="[native code] }",_t=q.length;function V(r){return typeof r!="function"?!1:Function.prototype.toString.call(r).slice(-_t)===q}class S{constructor(s,a){B(this,"words");B(this,"sigBytes");s=this.words=s||[],this.sigBytes=a===void 0?s.length*4:a}toString(s){return(s||mt).stringify(this)}concat(s){if(this.clamp(),this.sigBytes%4)for(let a=0;a<s.sigBytes;a++){const e=s.words[a>>>2]>>>24-a%4*8&255;this.words[this.sigBytes+a>>>2]|=e<<24-(this.sigBytes+a)%4*8}else for(let a=0;a<s.sigBytes;a+=4)this.words[this.sigBytes+a>>>2]=s.words[a>>>2];return this.sigBytes+=s.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new S([...this.words])}}const mt={stringify(r){const s=[];for(let a=0;a<r.sigBytes;a++){const e=r.words[a>>>2]>>>24-a%4*8&255;s.push((e>>>4).toString(16),(e&15).toString(16))}return s.join("")}},wt={stringify(r){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=[];for(let e=0;e<r.sigBytes;e+=3){const t=r.words[e>>>2]>>>24-e%4*8&255,n=r.words[e+1>>>2]>>>24-(e+1)%4*8&255,o=r.words[e+2>>>2]>>>24-(e+2)%4*8&255,y=t<<16|n<<8|o;for(let g=0;g<4&&e*8+g*6<r.sigBytes*8;g++)a.push(s.charAt(y>>>6*(3-g)&63))}return a.join("")}},vt={parse(r){const s=r.length,a=[];for(let e=0;e<s;e++)a[e>>>2]|=(r.charCodeAt(e)&255)<<24-e%4*8;return new S(a,s)}},bt={parse(r){return vt.parse(unescape(encodeURIComponent(r)))}};class Bt{constructor(){B(this,"_data",new S);B(this,"_nDataBytes",0);B(this,"_minBufferSize",0);B(this,"blockSize",512/32)}reset(){this._data=new S,this._nDataBytes=0}_append(s){typeof s=="string"&&(s=bt.parse(s)),this._data.concat(s),this._nDataBytes+=s.sigBytes}_doProcessBlock(s,a){}_process(s){let a,e=this._data.sigBytes/(this.blockSize*4);s?e=Math.ceil(e):e=Math.max((e|0)-this._minBufferSize,0);const t=e*this.blockSize,n=Math.min(t*4,this._data.sigBytes);if(t){for(let o=0;o<t;o+=this.blockSize)this._doProcessBlock(this._data.words,o);a=this._data.words.splice(0,t),this._data.sigBytes-=n}return new S(a,n)}}class St extends Bt{update(s){return this._append(s),this._process(),this}finalize(s){s&&this._append(s)}}const F=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Dt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],P=[];class Pt extends St{constructor(){super(...arguments);B(this,"_hash",new S([...F]))}reset(){super.reset(),this._hash=new S([...F])}_doProcessBlock(a,e){const t=this._hash.words;let n=t[0],o=t[1],y=t[2],g=t[3],h=t[4],c=t[5],w=t[6],m=t[7];for(let i=0;i<64;i++){if(i<16)P[i]=a[e+i]|0;else{const D=P[i-15],b=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,x=P[i-2],z=(x<<15|x>>>17)^(x<<13|x>>>19)^x>>>10;P[i]=b+P[i-7]+z+P[i-16]}const d=h&c^~h&w,l=n&o^n&y^o&y,u=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),f=(h<<26|h>>>6)^(h<<21|h>>>11)^(h<<7|h>>>25),p=m+f+d+Dt[i]+P[i],v=u+l;m=w,w=c,c=h,h=g+p|0,g=y,y=o,o=n,n=p+v|0}t[0]=t[0]+n|0,t[1]=t[1]+o|0,t[2]=t[2]+y|0,t[3]=t[3]+g|0,t[4]=t[4]+h|0,t[5]=t[5]+c|0,t[6]=t[6]+w|0,t[7]=t[7]+m|0}finalize(a){super.finalize(a);const e=this._nDataBytes*8,t=this._data.sigBytes*8;return this._data.words[t>>>5]|=128<<24-t%32,this._data.words[(t+64>>>9<<4)+14]=Math.floor(e/4294967296),this._data.words[(t+64>>>9<<4)+15]=e,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function kt(r){return new Pt().finalize(r).toString(wt)}function Ct(r,s={}){const a=typeof r=="string"?r:yt(r,s);return kt(a).slice(0,10)}function xt(r,s,a){const[e={},t]=typeof s=="string"?[{},s]:[s,a],n=ot(()=>k(r)),o=e.key||Ct([t,typeof n.value=="string"?n.value:"",...Lt(e)]);if(!o||typeof o!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+o);if(!r)throw new Error("[nuxt] [useFetch] request is missing.");const y=o===t?"$f"+o:o;if(!e.baseURL&&typeof n.value=="string"&&n.value[0]==="/"&&n.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:g,lazy:h,default:c,transform:w,pick:m,watch:i,immediate:d,getCachedData:l,deep:u,dedupe:f,...p}=e,v=ct({...ut,...p,cache:typeof e.cache=="boolean"?void 0:e.cache}),D={server:g,lazy:h,default:c,transform:w,pick:m,immediate:d,getCachedData:l,deep:u,dedupe:f,watch:i===!1?[]:[v,n,...i||[]]};let b;return ft(y,()=>{var I;(I=b==null?void 0:b.abort)==null||I.call(b),b=typeof AbortController<"u"?new AbortController:{};const z=k(e.timeout);let $;return z&&($=setTimeout(()=>b.abort(),z),b.signal.onabort=()=>clearTimeout($)),(e.$fetch||globalThis.$fetch)(n.value,{signal:b.signal,...v}).finally(()=>{clearTimeout($)})},D)}function Lt(r){var a;const s=[((a=k(r.method))==null?void 0:a.toUpperCase())||"GET",k(r.baseURL)];for(const e of[r.params||r.query]){const t=k(e);if(!t)continue;const n={};for(const[o,y]of Object.entries(t))n[k(o)]=k(y);s.push(n)}return s}/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=O("BoxIcon",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=O("DropletsIcon",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=O("ExternalLinkIcon",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=O("Volume2Icon",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=O("ZapIcon",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ut=lt("/favicon.svg"),K="https://tqyefifafabyudtyjfam.supabase.co",R="sb_publishable_ioNYT5D-3-ZPObp82HK5Yg_EEFwrGD5",_=C([]),E=C(!1);let M=!1;async function N(r){const s=[];try{if(r==="dehumidifier"){const a=await A(()=>import("./DsVkqH2E.js"),[],import.meta.url);a.products&&a.products.length>0&&s.push(...a.products.map(e=>({...e,category_slug:e.category_slug||"dehumidifier"})))}else if(r==="air-purifier"){const a=await A(()=>import("./BlKflvmc.js"),[],import.meta.url);a.products&&a.products.length>0&&s.push(...a.products.map(e=>({...e,category_slug:"air-purifier",slug:e.slug||`${e.brand.toLowerCase()}-${e.id}`.replace(/[\s_]/g,"-"),affiliate_url:e.affiliate_url||e.momo_url})))}else if(r==="air-conditioner"){const a=await A(()=>import("./5OSct8sF.js"),[],import.meta.url);a.products&&a.products.length>0&&s.push(...a.products.map(e=>({...e,category_slug:"air-conditioner",slug:e.slug||`${e.brand.toLowerCase()}-${e.id}`.replace(/[\s_]/g,"-"),affiliate_url:e.affiliate_url||e.momo_url})))}else if(r==="heater"){const a=await A(()=>import("./tgnS3L5s.js"),[],import.meta.url);a.products&&a.products.length>0&&s.push(...a.products.map(e=>({...e,category_slug:"heater",slug:e.slug||`${e.brand.toLowerCase()}-${e.id}`.replace(/[\s_]/g,"-"),affiliate_url:e.affiliate_url||e.momo_url})))}else if(r==="fan"){const a=await A(()=>import("./Ca-7Xfti.js"),[],import.meta.url);a.products&&a.products.length>0&&s.push(...a.products.map(e=>({...e,category_slug:"fan",slug:e.slug||`${e.brand.toLowerCase()}-${e.id}`.replace(/[\s_]/g,"-"),affiliate_url:e.affiliate_url||e.momo_url})))}}catch(a){console.warn(`Failed to load ${r} data:`,a)}return s}async function Z(){const r=["dehumidifier","air-purifier","air-conditioner","heater","fan"],s=[];for(const a of r){const e=await N(a);s.push(...e)}return s}async function W(r){const s=[...r],a=["dehumidifier","air-purifier","air-conditioner","heater","fan"];for(const e of a)if(!r.some(n=>n.category_slug===e||e==="dehumidifier"&&!n.category_slug)){console.log(`Supplementing missing category: ${e}`);const n=await N(e);s.push(...n)}return s}async function Mt(){if(M&&_.value.length>0)return _.value;try{const r=await fetch(`${K}/rest/v1/products?in_stock=eq.true`,{headers:{apikey:R,Authorization:`Bearer ${R}`}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=await r.json(),a=await W(s);return _.value=a,M=!0,_.value}catch(r){console.error("Failed to fetch products from Supabase:",r);const s=await Z();return s.length>0&&(_.value=s,M=!0),_.value}}async function Ht(){if(M&&_.value.length>0)return{data:C(_.value),error:C(null)};const{data:r,error:s}=await xt(`${K}/rest/v1/products?in_stock=eq.true`,{headers:{apikey:R,Authorization:`Bearer ${R}`},key:"products",default:()=>[]},"$GnOZtWanLE");if(r.value&&r.value.length>0){const a=await W(r.value);_.value=a,M=!0}else{const a=await Z();a.length>0&&(_.value=a,M=!0)}return{data:r,error:s}}const Vt=()=>{const r=async()=>{if(E.value){for(;E.value;)await new Promise(i=>setTimeout(i,50));return _.value}E.value=!0;try{return await Mt()}finally{E.value=!1}},s=U(_),a=U(E),e=()=>[...new Set(_.value.map(i=>i.brand))].sort(),t=()=>{if(_.value.length===0)return{min:0,max:1e5};const i=_.value.map(d=>d.price);return{min:Math.min(...i),max:Math.max(...i)}},n=i=>_.value.filter(d=>{if(i.brands.length>0&&!i.brands.includes(d.brand))return!1;const l=d.daily_capacity??0;return!(i.capacityRange!=="all"&&(i.capacityRange==="under10"&&l>=10||i.capacityRange==="10to15"&&(l<10||l>15)||i.capacityRange==="over15"&&l<=15)||d.price<i.priceMin||d.price>i.priceMax)}),o=i=>{const d=i.original_price;return!d||d<=i.price?0:Math.round((1-i.price/d)*100)},y=i=>{const d=i.daily_capacity??0;return d===0?1/0:i.price/d},g=i=>{let d=0;const l=o(i);d+=Math.min(l,40);const u=i.energy_efficiency??5;d+=(6-u)*5;const f=y(i);if(f!==1/0){const v=Math.max(0,Math.min(20,(800-f)/25));d+=v}return["Panasonic","國際牌","HITACHI","日立","SHARP","夏普","MITSUBISHI","三菱"].some(v=>i.brand.toUpperCase().includes(v.toUpperCase()))&&(d+=15),d},h=(i,d)=>{const l=[...i];switch(d){case"price_asc":return l.sort((u,f)=>u.price-f.price);case"price_desc":return l.sort((u,f)=>f.price-u.price);case"noise_asc":return l.sort((u,f)=>(u.noise_level??99)-(f.noise_level??99));case"capacity_desc":return l.sort((u,f)=>(f.daily_capacity??0)-(u.daily_capacity??0));case"discount_desc":return l.sort((u,f)=>o(f)-o(u));case"value_asc":return l.sort((u,f)=>y(u)-y(f));case"popularity":default:return l.sort((u,f)=>g(f)-g(u))}},c=i=>{const d=_.value.find(u=>u.slug===i);if(d)return d;const l=_.value.find(u=>`${u.brand.toLowerCase()}-${u.id}`.replace(/[\s_]/g,"-")===i);return l||_.value.find(u=>`${u.brand.toLowerCase()}-${u.model.toLowerCase()}`.replace(/[\s_]/g,"-")===i)},w=i=>i.slug?i.slug:`${i.brand.toLowerCase()}-${i.id}`.replace(/[\s_]/g,"-");return{allProducts:s,isLoading:a,loadProducts:r,getAllBrands:e,getPriceRange:t,filterProducts:n,sortProducts:h,getProductBySlug:c,getProductSlug:w,getAllSlugs:()=>_.value.map(i=>w(i))}};export{zt as B,Rt as D,$t as E,It as V,Tt as Z,Ut as _,Ht as a,Vt as u};
