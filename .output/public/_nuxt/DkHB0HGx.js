import{c as Ie,d as be,r as S,h as F,b as s,f as e,j as v,k as p,K as ve,L as ke,F as N,q as W,l as P,t as a,p as R,e as t,X as ne,H as De,i as y,n as ot,I as bt,m as G,w as le,_ as Fe,y as at,u as rt,B as xt,x as pt,o as ht,a as ft,M as yt,A as Me,D as qe,T as Re,N as _t,O as wt,E as $t,G as kt,v as Ct}from"./70IZNXNn.js";import{u as jt}from"./8PxB8-Wm.js";import{Z as He,u as zt,a as Mt,D as Be,_ as St}from"./Ckwdu9Nn.js";import{C as Ce,_ as Tt,a as Ft,b as Pt,S as At,G as lt,H as Nt,F as qt,c as Rt,d as Bt,P as Dt,e as Lt,A as Wt}from"./DClLL2Eh.js";import{W as Se,S as re,C as ge,d as je,b as Te,a as Le,F as We}from"./C7CTvE8P.js";import{S as It,u as Ht}from"./CVhL14Yr.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Ie("Building2Icon",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Ie("ChevronDownIcon",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Ie("ThermometerSunIcon",[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]]),Et={class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Kt={class:"relative bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden"},Qt={class:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-green-600 to-emerald-500"},Gt={class:"flex items-center gap-2 text-white"},Zt=e("h2",{class:"text-lg font-semibold"},"ç©ºæ°£æ¸…æ·¨æ©Ÿåªæ•¸è¨ˆç®—",-1),Jt={class:"p-6"},Xt={key:0,class:"space-y-6"},Yt=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," æˆ¿é–“å¤§å°ï¼ˆåªï¼‰ ",-1),es={class:"flex items-center gap-3"},ts=e("span",{class:"text-gray-500"},"åª",-1),ss=e("p",{class:"mt-2 text-xs text-gray-500"}," ä¸ç¢ºå®šåªæ•¸ï¼Ÿä¸€èˆ¬è‡¥å®¤ç´„ 3-5 åªï¼Œå®¢å»³ç´„ 8-15 åª ",-1),ls=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," ç©ºé–“é¡žåž‹ ",-1),os={class:"grid grid-cols-3 gap-3"},as=["onClick"],rs={class:"text-2xl mb-1"},ns={class:"text-sm font-medium text-gray-900"},is={class:"text-xs text-gray-500"},cs=["disabled"],ds={key:1,class:"space-y-6"},us={class:"text-center p-6 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl"},ms={class:"flex items-center justify-center gap-2 mb-2"},vs={class:"text-gray-600"},gs={class:"flex items-center justify-center gap-2 text-3xl font-bold text-green-600"},bs={class:"mt-2 text-sm text-gray-500"},xs={key:0},ps=e("h3",{class:"text-sm font-medium text-gray-700 mb-3"},"ç¬¦åˆæ¢ä»¶çš„æŽ¨è–¦å•†å“",-1),hs={class:"space-y-3"},fs=["href"],ys=["src","alt"],_s={class:"flex-1 min-w-0"},ws={key:0,class:"text-xs text-gray-500"},$s={class:"font-medium text-gray-900 truncate"},ks={class:"text-green-600 font-semibold"},Cs={key:1,class:"text-center py-4 text-gray-500"},js=e("p",null,"ç›®å‰æ²’æœ‰å®Œå…¨ç¬¦åˆ CADR ç¯„åœçš„å•†å“",-1),zs=e("p",{class:"text-sm"},"å»ºè­°æŸ¥çœ‹å…¨éƒ¨å•†å“åˆ—è¡¨",-1),Ms=[js,zs],Ss={class:"flex gap-3"},Ts=be({__name:"AirPurifierCalculator",props:{products:{}},emits:["close"],setup(H,{emit:Z}){const V=H,D=Z,n=S(1),z=S(null),f=S("living"),M=F(()=>{if(!z.value)return null;const j=z.value*16.5,x=f.value==="office"?1.2:1;return Math.ceil(j*x)}),c=F(()=>{if(!M.value)return null;const j=Math.max(M.value-50,100),x=M.value+100;return{min:j,max:x}}),U=F(()=>c.value?V.products.filter(j=>{var I;const x=((I=j.specs)==null?void 0:I.cadr)??0;return x>=c.value.min&&x<=c.value.max}).sort((j,x)=>j.price-x.price).slice(0,3):[]),T=[{value:"bedroom",label:"è‡¥å®¤",icon:"ðŸ›ï¸",desc:"ç¡çœ ç©ºé–“"},{value:"living",label:"å®¢å»³",icon:"ðŸ›‹ï¸",desc:"ä¸€èˆ¬èµ·å±…"},{value:"office",label:"è¾¦å…¬å®¤",icon:"ðŸ’¼",desc:"éœ€è¦æ›´é«˜æ›æ°£"}],q=j=>new Intl.NumberFormat("zh-TW").format(j),E=j=>{const x=j.brand;if(x&&x!=="Other")return x;const I=j.name.match(/ã€([^ã€‘]+)ã€‘/);return I?I[1]:""},k=()=>{n.value<2&&n.value++},_=()=>{n.value>1&&n.value--};return(j,x)=>{var I,Q,J;return t(),s("div",Et,[e("div",{class:"absolute inset-0 bg-black/50",onClick:x[0]||(x[0]=b=>D("close"))}),e("div",Kt,[e("div",Qt,[e("div",Gt,[v(p(Ce),{size:24}),Zt]),e("button",{onClick:x[1]||(x[1]=b=>D("close")),class:"text-white/80 hover:text-white"},[v(p(ne),{size:24})])]),e("div",Jt,[n.value===1?(t(),s("div",Xt,[e("div",null,[Yt,e("div",es,[ve(e("input",{"onUpdate:modelValue":x[2]||(x[2]=b=>z.value=b),type:"number",min:"1",max:"50",placeholder:"è¼¸å…¥åªæ•¸",class:"flex-1 px-4 py-3 border border-gray-300 rounded-xl text-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"},null,512),[[ke,z.value,void 0,{number:!0}]]),ts]),ss]),e("div",null,[ls,e("div",os,[(t(),s(N,null,W(T,b=>e("button",{key:b.value,class:P(["p-3 rounded-xl border-2 text-center transition-all",f.value===b.value?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"]),onClick:u=>f.value=b.value},[e("div",rs,a(b.icon),1),e("div",ns,a(b.label),1),e("div",is,a(b.desc),1)],10,as)),64))])]),e("button",{disabled:!z.value,class:P(["w-full py-3 rounded-xl font-semibold transition-all",z.value?"bg-green-600 text-white hover:bg-green-700":"bg-gray-200 text-gray-400 cursor-not-allowed"]),onClick:k}," è¨ˆç®—æŽ¨è–¦ CADR ",10,cs)])):(t(),s("div",ds,[e("div",us,[e("div",ms,[v(p(De),{size:20,class:"text-green-600"}),e("span",vs,a(z.value)+" åª "+a((I=T.find(b=>b.value===f.value))==null?void 0:I.label),1)]),e("div",gs,[v(p(Se),{size:32}),R(" å»ºè­° CADR "+a(M.value)+"+ ",1)]),e("p",bs," å»ºè­°é¸æ“‡ CADR "+a((Q=c.value)==null?void 0:Q.min)+"-"+a((J=c.value)==null?void 0:J.max)+" mÂ³/h çš„æ¸…æ·¨æ©Ÿ ",1)]),U.value.length>0?(t(),s("div",xs,[ps,e("div",hs,[(t(!0),s(N,null,W(U.value,b=>{var u;return t(),s("a",{key:b.id,href:b.affiliate_url,target:"_blank",rel:"noopener noreferrer nofollow",class:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors"},[e("img",{src:b.image_url,alt:b.name,class:"w-16 h-16 object-cover rounded-lg"},null,8,ys),e("div",_s,[E(b)?(t(),s("p",ws,a(E(b)),1)):y("",!0),e("p",$s,a((u=b.specs)!=null&&u.cadr?`CADR ${b.specs.cadr}`:"")+" "+a(b.model),1),e("p",ks,"NT$ "+a(q(b.price)),1)])],8,fs)}),128))])])):(t(),s("div",Cs,Ms)),e("div",Ss,[e("button",{class:"flex-1 py-3 border border-gray-300 rounded-xl font-medium text-gray-700 hover:bg-gray-50",onClick:_}," é‡æ–°è¨ˆç®— "),e("button",{class:"flex-1 py-3 bg-green-600 text-white rounded-xl font-semibold hover:bg-green-700",onClick:x[3]||(x[3]=b=>D("close"))}," é—œé–‰ ")])]))])])])}}}),Fs={class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Ps={class:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden"},As={class:"flex items-center justify-between p-4 border-b border-gray-100 bg-gradient-to-r from-emerald-500 via-teal-500 to-cyan-500"},Ns={class:"flex items-center gap-2 text-white"},qs={class:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center"},Rs=e("div",null,[e("h2",{class:"text-lg font-bold"},"ç©ºæ°£æ¸…æ·¨æ©Ÿé…å°"),e("p",{class:"text-xs text-white/80"},"æ‰¾åˆ°æœ€é©åˆä½ çš„é‚£ä¸€å°")],-1),Bs={key:0,class:"h-1.5 bg-gray-100"},Ds={key:1,class:"p-6"},Ls={class:"text-center mb-6"},Ws={class:"text-xl font-bold text-gray-900"},Is={class:"text-sm text-gray-500 mt-1"},Hs={class:"space-y-3"},Us=["onClick"],Os={class:"text-4xl transform group-hover:scale-110 transition-transform"},Vs={class:"flex-1"},Es={class:"font-bold text-gray-900"},Ks={class:"text-sm text-gray-500"},Qs={class:"flex justify-center gap-2 mt-6"},Gs={key:2,class:"p-6"},Zs={class:"text-center mb-6"},Js={class:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full mb-4 shadow-lg"},Xs=e("h3",{class:"text-2xl font-bold text-gray-900"},"é…å°å®Œæˆï¼",-1),Ys={class:"inline-flex items-center gap-2 mt-2 px-3 py-1 bg-emerald-50 rounded-full"},el={class:"text-sm text-emerald-700"},tl={class:"text-sm text-gray-500 mt-3"},sl={key:0,class:"text-center py-8"},ll=e("p",{class:"text-6xl mb-4"},"ðŸ¤”",-1),ol=e("p",{class:"text-gray-600 font-medium mb-2"},"å“Žå‘€ï¼Œæ¢ä»¶æœ‰é»žåš´æ ¼",-1),al=e("p",{class:"text-gray-500 text-sm mb-4"},"æ‰¾ä¸åˆ°å®Œå…¨ç¬¦åˆçš„å•†å“",-1),rl={key:1,class:"space-y-3"},nl=["href"],il={class:"text-3xl"},cl=["src","alt"],dl={class:"flex-1 min-w-0"},ul={key:0,class:"text-xs text-gray-500 font-medium"},ml={class:"font-bold text-gray-900 truncate"},vl={class:"flex items-center gap-2 mt-1"},gl={class:"text-emerald-600 font-bold"},bl={key:0,class:"text-xs bg-red-100 text-red-600 px-1.5 py-0.5 rounded font-medium"},xl={class:"mt-6 flex gap-3"},pe=4,pl=be({__name:"AirPurifierFinder",props:{products:{}},emits:["close"],setup(H,{emit:Z}){const V=H,D=Z,n=S(1),z=S(null),f=S(null),M=S(null),c=S(null),U=[{step:1,title:"æè¿°ä¸€ä¸‹ä½ çš„ç”Ÿæ´»ç©ºé–“ ðŸ ",subtitle:"é¸æœ€æŽ¥è¿‘çš„æƒ…æ³",options:[{value:"cozy",label:"å°çª©",desc:"å¥—æˆ¿æˆ–å°è‡¥å®¤ï¼Œæº«é¦¨å‰›å¥½",emoji:"ðŸ›ï¸",size:"small"},{value:"family",label:"å®¶åº­å®¢å»³",desc:"ä¸€å®¶äººçš„æ´»å‹•ç©ºé–“",emoji:"ðŸ›‹ï¸",size:"medium"},{value:"openspace",label:"å¤§ç©ºé–“",desc:"é–‹æ”¾å¼æ ¼å±€æˆ–è¾¦å…¬å®¤",emoji:"ðŸ¢",size:"large"}],answer:z},{step:2,title:"ä½ æœ€å›°æ“¾çš„æ˜¯... ðŸ˜¤",subtitle:"é¸ä¸€å€‹æœ€æƒ³è§£æ±ºçš„",options:[{value:"sneeze",label:"å“ˆå•¾æ˜Ÿäºº",desc:"æ—©ä¸Šèµ·åºŠå°±é–‹å§‹æ‰“å™´åš",emoji:"ðŸ¤§",priority:"allergy"},{value:"smell",label:"é¼»å­å¾ˆæ•æ„Ÿ",desc:"èžåˆ°æ€ªå‘³å°±ä¸èˆ’æœ",emoji:"ðŸ‘ƒ",priority:"odor"},{value:"pet",label:"æ¯›å°å­©çš„å‘³é“",desc:"å®¶è£¡æœ‰æ¯›å­©ï¼Œæƒ³ç¶­æŒç©ºæ°£æ¸…æ–°",emoji:"ðŸ±",priority:"pet"},{value:"pm25",label:"çª—å¤–çš„ç©ºæ°£",desc:"å¸¸å¸¸ç©ºæ±¡ç´«çˆ†å¾ˆæ“”å¿ƒ",emoji:"ðŸ˜·",priority:"dust"}],answer:f},{step:3,title:"ä½ æ˜¯å“ªç¨®äººï¼Ÿ ðŸŽ­",subtitle:"é€™æœƒå½±éŸ¿æŽ¨è–¦çµæžœå–”",options:[{value:"sleeper",label:"æ·ºçœ è€…",desc:"ä¸€é»žè²éŸ³å°±ç¡ä¸è‘—",emoji:"ðŸ˜´",trait:"quiet"},{value:"techy",label:"ç§‘æŠ€æŽ§",desc:"æ„›ç”¨ APP é™æŽ§ä¸€åˆ‡",emoji:"ðŸ“±",trait:"smart"},{value:"lazy",label:"æ‡¶äººæ´¾",desc:"æœ€å¥½éƒ½ä¸ç”¨ä¿é¤Šç¶­è­·",emoji:"ðŸ¦¥",trait:"easy"},{value:"practical",label:"å‹™å¯¦æ´¾",desc:"å¥½ç”¨å¯¦åœ¨æœ€é‡è¦",emoji:"ðŸ’ª",trait:"value"}],answer:M},{step:4,title:"æœ€å¾Œï¼Œé ç®—å¤§æ¦‚ï¼Ÿ ðŸ’°",subtitle:"èª å¯¦å›žç­”æ‰èƒ½æ‰¾åˆ°æœ€é©åˆçš„",options:[{value:"budget",label:"å°è³‡é¦–é¸",desc:"5åƒä»¥å…§æžå®š",emoji:"ðŸŒ±",max:5e3},{value:"mid",label:"é¡˜æ„æŠ•è³‡",desc:"5åƒåˆ°1è¬5",emoji:"â­",min:5e3,max:15e3},{value:"premium",label:"å“è³ªè‡³ä¸Š",desc:"1è¬5ä»¥ä¸Šä¹ŸOK",emoji:"ðŸ‘‘",min:15e3}],answer:c}],T=F(()=>U[n.value-1]),q=F(()=>{const u=[];return z.value==="cozy"?u.push("å°ç©ºé–“"):z.value==="family"?u.push("å®¶åº­å®¢å»³"):z.value==="openspace"&&u.push("å¤§åªæ•¸"),f.value==="sneeze"?u.push("æŠ—æ•éœ€æ±‚"):f.value==="smell"?u.push("é™¤è‡­éœ€æ±‚"):f.value==="pet"?u.push("å¯µç‰©å®¶åº­"):f.value==="pm25"&&u.push("æŠ—ç©ºæ±¡"),u.join(" + ")}),E=F(()=>({sneeze:"é€™å¹¾æ¬¾ç‰¹åˆ¥é©åˆéŽæ•é«”è³ªï¼ŒHEPA æ¿¾ç¶²å¹«ä½ æ“‹ä½éŽæ•åŽŸï¼",smell:"é¸äº†æœ‰æ´»æ€§ç¢³æ¿¾ç¶²çš„ï¼Œè®“ä½ å®¶ç©ºæ°£æ¸…æ–°ç„¡ç•°å‘³ï½ž",pet:"é€™äº›éƒ½å¾ˆé©åˆæœ‰æ¯›å­©çš„å®¶åº­ï¼Œæ¯›é«®ã€çš®å±‘ bye byeï¼",pm25:"é«˜ CADR å€¼é¦–é¸ï¼Œç©ºæ±¡å†åš´é‡ä¹Ÿä¸æ€•ï¼"})[f.value||""]||"æ ¹æ“šä½ çš„éœ€æ±‚ç²¾å¿ƒæŒ‘é¸ï¼"),k=F(()=>{let u=[...V.products];const r={cozy:"small",family:"medium",openspace:"large"}[z.value||""];r==="small"?u=u.filter(h=>{var w;const g=((w=h.specs)==null?void 0:w.cadr)??0;return g<=250||g===0}):r==="medium"?u=u.filter(h=>{var w;const g=((w=h.specs)==null?void 0:w.cadr)??0;return g>=150&&g<=450||g===0}):r==="large"&&(u=u.filter(h=>{var w;const g=((w=h.specs)==null?void 0:w.cadr)??0;return g>=300||g===0}));const o=U[3].options.find(h=>h.value===c.value);o&&(o.max&&(u=u.filter(h=>h.price<=o.max)),o.min&&(u=u.filter(h=>h.price>=o.min)));const m={sneeze:"allergy",smell:"odor",pet:"pet",pm25:"dust"}[f.value||""];return m==="allergy"||m==="dust"?u.sort((h,g)=>{var L,O,Y,oe;const w=(L=h.features)!=null&&L.some(ae=>ae.includes("HEPA"))?1:0,B=(O=g.features)!=null&&O.some(ae=>ae.includes("HEPA"))?1:0;return B!==w?B-w:(((Y=g.specs)==null?void 0:Y.cadr)??0)-(((oe=h.specs)==null?void 0:oe.cadr)??0)}):(m==="odor"||m==="pet")&&u.sort((h,g)=>{var L,O,Y,oe,ae,ie;const w=((L=h.features)!=null&&L.some(ee=>ee.includes("æ´»æ€§ç¢³"))?2:0)+((O=h.features)!=null&&O.some(ee=>ee.includes("é™¤è‡­"))?1:0),B=((Y=g.features)!=null&&Y.some(ee=>ee.includes("æ´»æ€§ç¢³"))?2:0)+((oe=g.features)!=null&&oe.some(ee=>ee.includes("é™¤è‡­"))?1:0);return B!==w?B-w:(((ae=g.specs)==null?void 0:ae.cadr)??0)-(((ie=h.specs)==null?void 0:ie.cadr)??0)}),M.value==="sleeper"?u.sort((h,g)=>{var w,B;return(((w=h.specs)==null?void 0:w.noise_level)??99)-(((B=g.specs)==null?void 0:B.noise_level)??99)}):M.value==="techy"?u.sort((h,g)=>{var L,O;const w=(L=h.features)!=null&&L.some(Y=>Y.includes("APP")||Y.includes("WiFi"))?1:0;return((O=g.features)!=null&&O.some(Y=>Y.includes("APP")||Y.includes("WiFi"))?1:0)-w}):M.value==="practical"&&u.sort((h,g)=>{var L,O;const w=(((L=h.specs)==null?void 0:L.cadr)??0)/(h.price||1);return(((O=g.specs)==null?void 0:O.cadr)??0)/(g.price||1)-w}),u.slice(0,3)}),_=u=>new Intl.NumberFormat("zh-TW").format(u),j=u=>{const C=u.brand;if(C&&C!=="Other")return C;const r=u.name.match(/ã€([^ã€‘]+)ã€‘/);return r?r[1]:""},x=u=>{T.value.answer.value=u,n.value<pe?setTimeout(()=>n.value++,300):setTimeout(()=>n.value=pe+1,300)},I=()=>{n.value>1&&n.value--},Q=()=>{n.value=1,z.value=null,f.value=null,M.value=null,c.value=null},J=u=>{const C=u.original_price;return!C||C<=u.price?null:Math.round((1-u.price/C)*100)},b=["ðŸ¥‡","ðŸ¥ˆ","ðŸ¥‰"];return(u,C)=>(t(),s("div",Fs,[e("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:C[0]||(C[0]=r=>D("close"))}),e("div",Ps,[e("div",As,[e("div",Ns,[e("div",qs,[v(p(re),{size:18})]),Rs]),e("button",{onClick:C[1]||(C[1]=r=>D("close")),class:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-white/80 hover:text-white hover:bg-white/30 transition-all"},[v(p(ne),{size:18})])]),n.value<=pe?(t(),s("div",Bs,[e("div",{class:"h-full bg-gradient-to-r from-emerald-500 to-teal-500 transition-all duration-500 ease-out",style:ot({width:`${n.value/pe*100}%`})},null,4)])):y("",!0),n.value<=pe?(t(),s("div",Ds,[e("div",Ls,[e("h3",Ws,a(T.value.title),1),e("p",Is,a(T.value.subtitle),1)]),e("div",Hs,[(t(!0),s(N,null,W(T.value.options,r=>(t(),s("button",{key:r.value,class:P(["w-full p-4 rounded-2xl border-2 text-left transition-all duration-200 flex items-center gap-4 group",T.value.answer.value===r.value?"border-emerald-500 bg-emerald-50 scale-[1.02] shadow-md":"border-gray-100 hover:border-emerald-300 hover:bg-emerald-50/50 hover:scale-[1.01]"]),onClick:o=>x(r.value)},[e("span",Os,a(r.emoji),1),e("div",Vs,[e("p",Es,a(r.label),1),e("p",Ks,a(r.desc),1)]),v(p(ge),{class:P(["transition-all",T.value.answer.value===r.value?"text-emerald-500 translate-x-1":"text-gray-300 group-hover:text-emerald-400 group-hover:translate-x-1"]),size:20},null,8,["class"])],10,Us))),128))]),n.value>1?(t(),s("button",{key:0,class:"mt-6 flex items-center gap-1 text-gray-400 hover:text-gray-600 transition-colors mx-auto",onClick:I},[v(p(je),{size:18}),R(" ä¸Šä¸€é¡Œ ")])):y("",!0),e("div",Qs,[(t(),s(N,null,W(pe,r=>e("div",{key:r,class:P(["w-2 h-2 rounded-full transition-all",r===n.value?"w-6 bg-emerald-500":r<n.value?"bg-emerald-300":"bg-gray-200"])},null,2)),64))])])):(t(),s("div",Gs,[e("div",Zs,[e("div",Js,[v(p(Se),{size:40,class:"text-white"})]),Xs,e("div",Ys,[e("span",el,a(q.value),1)]),e("p",tl,a(E.value),1)]),k.value.length===0?(t(),s("div",sl,[ll,ol,al,e("button",{class:"px-6 py-2.5 bg-emerald-500 text-white rounded-xl font-medium hover:bg-emerald-600 transition-colors",onClick:Q}," é‡æ–°é…å° ")])):(t(),s("div",rl,[(t(!0),s(N,null,W(k.value,(r,o)=>(t(),s("a",{key:r.id,href:r.affiliate_url,target:"_blank",rel:"noopener noreferrer nofollow",class:P(["flex items-center gap-4 p-4 rounded-2xl transition-all hover:scale-[1.02]",o===0?"bg-gradient-to-r from-amber-50 to-yellow-50 border-2 border-amber-200":"bg-gray-50 hover:bg-gray-100"])},[e("span",il,a(b[o]),1),e("img",{src:r.image_url,alt:r.name,class:"w-16 h-16 object-cover rounded-xl flex-shrink-0 shadow-sm"},null,8,cl),e("div",dl,[j(r)?(t(),s("p",ul,a(j(r)),1)):y("",!0),e("p",ml,a(r.model),1),e("div",vl,[e("span",gl,"NT$ "+a(_(r.price)),1),J(r)?(t(),s("span",bl," -"+a(J(r))+"% ",1)):y("",!0)])])],10,nl))),128))])),e("div",xl,[e("button",{class:"flex-1 py-3 border-2 border-gray-200 rounded-xl font-medium text-gray-600 hover:bg-gray-50 transition-colors",onClick:Q}," ðŸ”„ é‡æ–°é…å° "),e("button",{class:"flex-1 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl font-bold hover:from-emerald-600 hover:to-teal-600 transition-all shadow-md",onClick:C[2]||(C[2]=r=>D("close"))}," å®Œæˆ âœ¨ ")])]))])]))}}),hl={class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm"},fl={class:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden"},yl={class:"bg-gradient-to-r from-cyan-600 to-blue-500 text-white p-6"},_l={class:"flex items-center justify-between"},wl={class:"flex items-center gap-3"},$l={class:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center"},kl=e("div",null,[e("h2",{class:"text-xl font-bold"},"å†·æ°£å™¸æ•¸è¨ˆç®—å™¨"),e("p",{class:"text-cyan-100 text-sm"},"è¼¸å…¥åªæ•¸ï¼Œç®—å‡ºéœ€è¦çš„å†·æ°£å¤§å°")],-1),Cl={class:"p-6 overflow-y-auto max-h-[60vh]"},jl={class:"mb-6"},zl=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," æˆ¿é–“åªæ•¸ ",-1),Ml={class:"flex items-center gap-4"},Sl={class:"w-20 text-center"},Tl={class:"text-2xl font-bold text-cyan-600"},Fl=e("span",{class:"text-gray-500 text-sm"}," åª",-1),Pl={class:"grid grid-cols-1 gap-4 mb-6"},Al={class:"block text-sm font-medium text-gray-700 mb-2"},Nl={class:"flex gap-2"},ql={class:"block text-sm font-medium text-gray-700 mb-2"},Rl={class:"flex gap-2"},Bl={class:"block text-sm font-medium text-gray-700 mb-2"},Dl={class:"flex gap-2"},Ll={class:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl p-5 border border-cyan-200"},Wl={class:"flex items-center gap-2 text-cyan-700 mb-3"},Il=e("span",{class:"font-semibold"},"å»ºè­°å†·æ°£å®¹é‡",-1),Hl={class:"grid grid-cols-2 gap-4"},Ul={class:"bg-white rounded-lg p-3 text-center"},Ol={class:"text-3xl font-bold text-cyan-600"},Vl=e("div",{class:"text-sm text-gray-500 mt-1"},"å»ºè­°å™¸æ•¸",-1),El={class:"bg-white rounded-lg p-3 text-center"},Kl={class:"text-3xl font-bold text-cyan-600"},Ql=e("span",{class:"text-lg"},"kW",-1),Gl=e("div",{class:"text-sm text-gray-500 mt-1"},"å»ºè­°å†·æˆ¿èƒ½åŠ›",-1),Zl={class:"mt-3 text-sm text-gray-600 flex items-start gap-2"},Jl={key:0,class:"mt-6"},Xl=e("h3",{class:"font-semibold text-gray-900 mb-3"},"æŽ¨è–¦å†·æ°£",-1),Yl={class:"space-y-2"},eo=["src","alt"],to={class:"flex-1 min-w-0"},so={class:"text-sm font-medium text-gray-900 line-clamp-1"},lo={class:"text-cyan-600 font-bold"},oo=be({__name:"AirConditionerCalculator",props:{products:{}},emits:["close"],setup(H,{emit:Z}){const V=H,D=Z,n=S(10),z=S("normal"),f=S("medium"),M=S("bedroom"),c=F(()=>{let k=n.value*.45;z.value==="high"&&(k*=1.15),k*={low:.9,medium:1,high:1.2}[f.value],k*={bedroom:1,living:1.1,office:1.05}[M.value];const x=k/3.517,I=k*.9,Q=k*1.1,J=k*3412;return{kw:k.toFixed(1),minKw:I.toFixed(1),maxKw:Q.toFixed(1),tonnage:x.toFixed(2),btu:Math.round(J),label:U(x)}});function U(k){return k<.8?"å°æ–¼ 1 å™¸":k<1.2?"ç´„ 1 å™¸":k<1.6?"ç´„ 1.3 å™¸":k<2?"ç´„ 1.5-1.8 å™¸":k<2.5?"ç´„ 2 å™¸":k<3?"ç´„ 2.5 å™¸":"3 å™¸ä»¥ä¸Š"}const T=F(()=>(parseFloat(c.value.kw),parseFloat(c.value.minKw),parseFloat(c.value.maxKw),V.products.filter(k=>(k.name.toLowerCase(),!0)).slice(0,4))),q=k=>new Intl.NumberFormat("zh-TW").format(k),E=k=>k.slug?k.slug:`${k.brand.toLowerCase()}-${k.id}`.replace(/[\s_]/g,"-");return(k,_)=>{const j=Fe;return t(),s("div",hl,[e("div",fl,[e("div",yl,[e("div",_l,[e("div",wl,[e("div",$l,[v(p(Ce),{size:24})]),kl]),e("button",{class:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors",onClick:_[0]||(_[0]=x=>D("close"))},[v(p(ne),{size:20})])])]),e("div",Cl,[e("div",jl,[zl,e("div",Ml,[ve(e("input",{"onUpdate:modelValue":_[1]||(_[1]=x=>n.value=x),type:"range",min:"3",max:"30",step:"1",class:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-cyan-600"},null,512),[[ke,n.value,void 0,{number:!0}]]),e("div",Sl,[e("span",Tl,a(n.value),1),Fl])])]),e("div",Pl,[e("div",null,[e("label",Al,[v(p(Ut),{size:16,class:"inline mr-1"}),R(" å¤©èŠ±æ¿é«˜åº¦ ")]),e("div",Nl,[e("button",{class:P(["flex-1 py-2 px-4 rounded-lg border-2 text-sm font-medium transition-all",z.value==="normal"?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-gray-200 text-gray-600 hover:border-gray-300"]),onClick:_[2]||(_[2]=x=>z.value="normal")}," ä¸€èˆ¬é«˜åº¦ (2.4-2.8m) ",2),e("button",{class:P(["flex-1 py-2 px-4 rounded-lg border-2 text-sm font-medium transition-all",z.value==="high"?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-gray-200 text-gray-600 hover:border-gray-300"]),onClick:_[3]||(_[3]=x=>z.value="high")}," æŒ‘é«˜ (3m ä»¥ä¸Š) ",2)])]),e("div",null,[e("label",ql,[v(p(It),{size:16,class:"inline mr-1"}),R(" è¥¿æ›¬/æ—¥ç…§ç¨‹åº¦ ")]),e("div",Rl,[e("button",{class:P(["flex-1 py-2 px-3 rounded-lg border-2 text-sm font-medium transition-all",f.value==="low"?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-gray-200 text-gray-600 hover:border-gray-300"]),onClick:_[4]||(_[4]=x=>f.value="low")}," å°‘æ›¬ ",2),e("button",{class:P(["flex-1 py-2 px-3 rounded-lg border-2 text-sm font-medium transition-all",f.value==="medium"?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-gray-200 text-gray-600 hover:border-gray-300"]),onClick:_[5]||(_[5]=x=>f.value="medium")}," æ™®é€š ",2),e("button",{class:P(["flex-1 py-2 px-3 rounded-lg border-2 text-sm font-medium transition-all",f.value==="high"?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-gray-200 text-gray-600 hover:border-gray-300"]),onClick:_[6]||(_[6]=x=>f.value="high")}," è¥¿æ›¬ ",2)])]),e("div",null,[e("label",Bl,[v(p(Vt),{size:16,class:"inline mr-1"}),R(" ç©ºé–“é¡žåž‹ ")]),e("div",Dl,[e("button",{class:P(["flex-1 py-2 px-3 rounded-lg border-2 text-sm font-medium transition-all",M.value==="bedroom"?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-gray-200 text-gray-600 hover:border-gray-300"]),onClick:_[7]||(_[7]=x=>M.value="bedroom")}," è‡¥å®¤ ",2),e("button",{class:P(["flex-1 py-2 px-3 rounded-lg border-2 text-sm font-medium transition-all",M.value==="living"?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-gray-200 text-gray-600 hover:border-gray-300"]),onClick:_[8]||(_[8]=x=>M.value="living")}," å®¢å»³ ",2),e("button",{class:P(["flex-1 py-2 px-3 rounded-lg border-2 text-sm font-medium transition-all",M.value==="office"?"border-cyan-500 bg-cyan-50 text-cyan-700":"border-gray-200 text-gray-600 hover:border-gray-300"]),onClick:_[9]||(_[9]=x=>M.value="office")}," è¾¦å…¬å®¤ ",2)])])]),e("div",Ll,[e("div",Wl,[v(p(Te),{size:20}),Il]),e("div",Hl,[e("div",Ul,[e("div",Ol,a(c.value.label),1),Vl]),e("div",El,[e("div",Kl,[R(a(c.value.kw)+" ",1),Ql]),Gl])]),e("div",Zl,[v(p(bt),{size:16,class:"flex-shrink-0 mt-0.5 text-cyan-600"}),e("span",null," å»ºè­°ç¯„åœ "+a(c.value.minKw)+"-"+a(c.value.maxKw)+" kW (ç´„ "+a(c.value.btu.toLocaleString())+" BTU) ",1)])]),T.value.length>0?(t(),s("div",Jl,[Xl,e("div",Yl,[(t(!0),s(N,null,W(T.value,x=>(t(),G(j,{key:x.id,to:`/air-conditioner/${E(x)}`,class:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:border-cyan-300 hover:bg-cyan-50/50 transition-all",onClick:_[10]||(_[10]=I=>D("close"))},{default:le(()=>[e("img",{src:x.image_url,alt:x.name,class:"w-14 h-14 object-cover rounded-lg bg-gray-100"},null,8,eo),e("div",to,[e("div",so,a(x.name),1),e("div",lo,"NT$ "+a(q(x.price)),1)])]),_:2},1032,["to"]))),128))])])):y("",!0)])])])}}}),ao={class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm"},ro={class:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden"},no={class:"bg-gradient-to-r from-cyan-600 to-blue-500 text-white p-6"},io={class:"flex items-center justify-between"},co={class:"flex items-center gap-3"},uo={class:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center"},mo=e("div",null,[e("h2",{class:"text-xl font-bold"},"å†·æ°£å¹«æˆ‘é¸"),e("p",{class:"text-cyan-100 text-sm"},"4 å€‹å•é¡Œï¼Œæ‰¾åˆ°æœ€é©åˆçš„å†·æ°£")],-1),vo={class:"mt-4 flex gap-2"},go={class:"p-6 overflow-y-auto max-h-[60vh]"},bo={class:"text-center mb-6"},xo={class:"text-2xl font-bold text-gray-900"},po={class:"text-gray-500 mt-1"},ho={key:0,class:"mb-4 p-3 bg-cyan-50 border border-cyan-200 rounded-xl"},fo={class:"flex items-center gap-2 text-cyan-700"},yo={class:"font-medium"},_o={class:"text-cyan-600 text-sm"},wo={class:"space-y-3"},$o=["onClick"],ko={class:"flex items-center gap-4"},Co={class:"text-3xl"},jo={class:"flex-1"},zo={class:"font-semibold text-gray-900"},Mo={class:"text-sm text-gray-500"},So={key:0,class:"text-xs text-cyan-600 mt-1"},To={key:0,class:"w-2 h-2 bg-white rounded-full"},Fo={class:"text-center mb-6"},Po=e("div",{class:"text-5xl mb-3"},"ðŸŽ‰",-1),Ao=e("h3",{class:"text-2xl font-bold text-gray-900"},"ç‚ºä½ æŽ¨è–¦é€™äº›å†·æ°£ï¼",-1),No={class:"text-gray-500 mt-1"},qo={key:0,class:"space-y-3"},Ro={class:"flex gap-4"},Bo=["src","alt"],Do={class:"flex-1 min-w-0"},Lo={class:"font-medium text-gray-900 line-clamp-2"},Wo={class:"text-cyan-600 font-bold mt-1"},Io={class:"flex items-center gap-2 mt-1"},Ho={class:"text-xs px-2 py-0.5 bg-cyan-100 text-cyan-700 rounded-full"},Uo={key:1,class:"text-center py-8"},Oo=e("div",{class:"text-4xl mb-3"},"ðŸ˜…",-1),Vo=e("p",{class:"text-gray-500"},"æ‰¾ä¸åˆ°å®Œå…¨ç¬¦åˆçš„å•†å“ï¼Œè©¦è©¦èª¿æ•´æ¢ä»¶ï¼Ÿ",-1),Eo=[Oo,Vo],Ko={key:0,class:"p-4 border-t border-gray-200 flex justify-between"},Qo={key:1},Go=["disabled"],Zo=["disabled"],_e=4,Jo=be({__name:"AirConditionerFinder",props:{products:{}},emits:["close"],setup(H,{emit:Z}){const V=H,D=Z,n=S(1),z=S(null),f=S(null),M=S(null),c=S(null),U=F(()=>({tiny:{min:0,max:2.5,label:"1å™¸ä»¥ä¸‹",kw:"2.2-2.8kW"},small:{min:2,max:3.5,label:"1-1.5å™¸",kw:"2.8-4.0kW"},medium:{min:3,max:5,label:"1.5-2å™¸",kw:"4.0-5.6kW"},large:{min:4.5,max:8,label:"2å™¸ä»¥ä¸Š",kw:"5.6kW+"}})[z.value||""]||null),T=[{step:1,title:"ä½ çš„ç©ºé–“æœ‰å¤šå¤§ï¼Ÿ ðŸ“",subtitle:"å¹«ä½ ç®—å‡ºéœ€è¦çš„å†·æ°£å™¸æ•¸",options:[{value:"tiny",label:"å°åªæ•¸",desc:"3-5åª (å°è‡¥å®¤ã€æ›¸æˆ¿)",emoji:"ðŸ›ï¸",ton:"1å™¸ä»¥ä¸‹"},{value:"small",label:"ä¸­å°åªæ•¸",desc:"5-8åª (è‡¥å®¤)",emoji:"ðŸ ",ton:"1-1.5å™¸"},{value:"medium",label:"ä¸­åªæ•¸",desc:"8-12åª (å®¢å»³)",emoji:"ðŸ¡",ton:"1.5-2å™¸"},{value:"large",label:"å¤§åªæ•¸",desc:"12åªä»¥ä¸Š (å¤§å®¢å»³)",emoji:"ðŸ¢",ton:"2å™¸ä»¥ä¸Š"}],answer:z},{step:2,title:"å®‰è£ç’°å¢ƒæ˜¯ï¼Ÿ ðŸ ",subtitle:"ä¸åŒç’°å¢ƒé©åˆä¸åŒæ©Ÿåž‹",options:[{value:"split",label:"åˆ†é›¢å¼",desc:"å®¤å…§æ©Ÿå®¤å¤–æ©Ÿåˆ†é–‹",emoji:"ðŸ”²"},{value:"window",label:"çª—åž‹",desc:"å®‰è£åœ¨çª—æˆ¶ä¸Š",emoji:"ðŸªŸ"},{value:"portable",label:"ç§»å‹•å¼",desc:"å…å®‰è£å¯ç§»å‹•",emoji:"ðŸ›ž"},{value:"any",label:"éƒ½å¯ä»¥",desc:"å¹«æˆ‘æŽ¨è–¦",emoji:"ðŸ¤·"}],answer:f},{step:3,title:"ä½ é‡è¦–ä»€éº¼åŠŸèƒ½ï¼Ÿ â­",subtitle:"é¸æ“‡æœ€åœ¨æ„çš„åŠŸèƒ½",options:[{value:"inverter",label:"è®Šé »çœé›»",desc:"é•·æœŸçœé›»è²»",emoji:"âš¡"},{value:"quiet",label:"å®‰éœé‹è½‰",desc:"ä½Žå™ªéŸ³èˆ’çœ ",emoji:"ðŸ¤«"},{value:"smart",label:"æ™ºæ…§åŠŸèƒ½",desc:"WiFi é ç«¯æŽ§åˆ¶",emoji:"ðŸ“±"},{value:"cooling",label:"å†·æˆ¿æ•ˆæžœ",desc:"å¿«é€Ÿé™æº«",emoji:"â„ï¸"}],answer:M},{step:4,title:"ä½ çš„é ç®—ç¯„åœï¼Ÿ ðŸ’°",subtitle:"é¸æ“‡é©åˆçš„åƒ¹ä½",options:[{value:"budget",label:"ç¶“æ¿Ÿå¯¦æƒ ",desc:"NT$ 20,000 ä»¥ä¸‹",emoji:"ðŸ’µ"},{value:"mid",label:"ä¸­ç­‰åƒ¹ä½",desc:"NT$ 20,000-35,000",emoji:"ðŸ’³"},{value:"premium",label:"ä¸­é«˜åƒ¹ä½",desc:"NT$ 35,000-50,000",emoji:"ðŸ’Ž"},{value:"luxury",label:"é ‚ç´šæ——è‰¦",desc:"NT$ 50,000 ä»¥ä¸Š",emoji:"ðŸ‘‘"}],answer:c}],q=F(()=>T[n.value-1]),E=F(()=>q.value.answer.value!==null),k=()=>{n.value<_e&&E.value&&n.value++},_=()=>{n.value>1&&n.value--},j=u=>{q.value.answer.value=u,n.value<_e&&setTimeout(()=>k(),300)},x=F(()=>{let u=[...V.products];if(c.value){const o={budget:{min:0,max:2e4},mid:{min:15e3,max:35e3},premium:{min:3e4,max:5e4},luxury:{min:45e3,max:1/0}}[c.value];o&&(u=u.filter($=>$.price>=o.min&&$.price<=o.max))}return u.map(r=>{let o=0;const $=r.name.toLowerCase();(f.value==="inverter"||M.value==="inverter")&&$.includes("è®Šé »")&&(o+=30),M.value==="quiet"&&($.includes("éœéŸ³")||$.includes("å®‰éœ"))&&(o+=20),M.value==="smart"&&($.includes("wifi")||$.includes("æ™ºæ…§")||$.includes("app"))&&(o+=20),["panasonic","åœ‹éš›ç‰Œ","daikin","å¤§é‡‘","hitachi","æ—¥ç«‹","mitsubishi","ä¸‰è±"].some(g=>r.brand.toLowerCase().includes(g))&&(o+=15);const h=r.original_price?Math.round((1-r.price/r.original_price)*100):0;return o+=Math.min(h,20),{product:r,score:o}}).sort((r,o)=>o.score-r.score).slice(0,6).map(r=>r.product)}),I=F(()=>n.value===_e&&c.value!==null),Q=u=>new Intl.NumberFormat("zh-TW").format(u),J=u=>u.slug?u.slug:`${u.brand.toLowerCase()}-${u.id}`.replace(/[\s_]/g,"-"),b=()=>{n.value=1,z.value=null,f.value=null,M.value=null,c.value=null};return(u,C)=>{const r=Fe;return t(),s("div",ao,[e("div",ro,[e("div",no,[e("div",io,[e("div",co,[e("div",uo,[v(p(Te),{size:24})]),mo]),e("button",{class:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors",onClick:C[0]||(C[0]=o=>D("close"))},[v(p(ne),{size:20})])]),e("div",vo,[(t(),s(N,null,W(_e,o=>e("div",{key:o,class:P(["h-1.5 flex-1 rounded-full transition-all",o<=n.value?"bg-white":"bg-white/30"])},null,2)),64))])]),e("div",go,[I.value?(t(),s(N,{key:1},[e("div",Fo,[Po,Ao,e("p",No,"æ ¹æ“šä½ çš„éœ€æ±‚ç²¾é¸ "+a(x.value.length)+" æ¬¾",1)]),x.value.length>0?(t(),s("div",qo,[(t(!0),s(N,null,W(x.value,o=>(t(),G(r,{key:o.id,to:`/air-conditioner/${J(o)}`,class:"block p-4 rounded-xl border border-gray-200 hover:border-cyan-300 hover:shadow-md transition-all",onClick:C[1]||(C[1]=$=>D("close"))},{default:le(()=>[e("div",Ro,[e("img",{src:o.image_url,alt:o.name,class:"w-20 h-20 object-cover rounded-lg bg-gray-100"},null,8,Bo),e("div",Do,[e("div",Lo,a(o.name),1),e("div",Wo,"NT$ "+a(Q(o.price)),1),e("div",Io,[e("span",Ho,a(o.brand),1)])])])]),_:2},1032,["to"]))),128))])):(t(),s("div",Uo,Eo)),e("button",{class:"w-full mt-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-xl transition-colors",onClick:b}," é‡æ–°é¸æ“‡ ")],64)):(t(),s(N,{key:0},[e("div",bo,[e("h3",xo,a(q.value.title),1),e("p",po,a(q.value.subtitle),1)]),n.value===1&&U.value?(t(),s("div",ho,[e("div",fo,[v(p(He),{size:18}),e("span",yo,"å»ºè­°å†·æ°£å®¹é‡ï¼š"+a(U.value.label),1),e("span",_o,"("+a(U.value.kw)+")",1)])])):y("",!0),e("div",wo,[(t(!0),s(N,null,W(q.value.options,o=>(t(),s("button",{key:o.value,class:P(["w-full p-4 rounded-xl border-2 text-left transition-all",q.value.answer.value===o.value?"border-cyan-500 bg-cyan-50":"border-gray-200 hover:border-cyan-300 hover:bg-gray-50"]),onClick:$=>j(o.value)},[e("div",ko,[e("span",Co,a(o.emoji),1),e("div",jo,[e("div",zo,a(o.label),1),e("div",Mo,a(o.desc),1),o.ton?(t(),s("div",So," å»ºè­°ï¼š"+a(o.ton),1)):y("",!0)]),e("div",{class:P(["w-6 h-6 rounded-full border-2 flex items-center justify-center",q.value.answer.value===o.value?"border-cyan-500 bg-cyan-500":"border-gray-300"])},[q.value.answer.value===o.value?(t(),s("div",To)):y("",!0)],2)])],10,$o))),128))])],64))]),I.value?y("",!0):(t(),s("div",Ko,[n.value>1?(t(),s("button",{key:0,class:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",onClick:_},[v(p(je),{size:20}),R(" ä¸Šä¸€æ­¥ ")])):(t(),s("div",Qo)),n.value<_e?(t(),s("button",{key:2,disabled:!E.value,class:P(["flex items-center gap-2 px-6 py-2 rounded-xl font-medium transition-all",E.value?"bg-cyan-600 text-white hover:bg-cyan-700":"bg-gray-200 text-gray-400 cursor-not-allowed"]),onClick:k},[R(" ä¸‹ä¸€æ­¥ "),v(p(ge),{size:20})],10,Go)):(t(),s("button",{key:3,disabled:!E.value,class:P(["flex items-center gap-2 px-6 py-2 rounded-xl font-medium transition-all",E.value?"bg-gradient-to-r from-cyan-600 to-blue-500 text-white hover:from-cyan-700 hover:to-blue-600":"bg-gray-200 text-gray-400 cursor-not-allowed"]),onClick:()=>{}},[v(p(re),{size:18}),R(" æŸ¥çœ‹æŽ¨è–¦ ")],10,Zo))]))])])}}}),Xo={class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Yo={class:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden"},ea={class:"flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700 bg-gradient-to-r from-orange-500 via-red-500 to-pink-500"},ta={class:"flex items-center gap-2 text-white"},sa={class:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center"},la=e("div",null,[e("h2",{class:"text-lg font-bold"},"é›»æš–å™¨æŽ¨è–¦"),e("p",{class:"text-xs text-white/80"},"æ‰¾åˆ°æœ€é©åˆä½ çš„æš–æ°£")],-1),oa={key:0,class:"h-1.5 bg-gray-100 dark:bg-gray-700"},aa={key:1,class:"mx-6 mt-4 p-3 bg-orange-50 dark:bg-orange-900/30 rounded-xl flex items-center gap-3"},ra={class:"w-10 h-10 bg-orange-100 dark:bg-orange-800 rounded-full flex items-center justify-center"},na=e("p",{class:"text-xs text-orange-600 dark:text-orange-400 font-medium"},"å»ºè­°åŠŸçŽ‡",-1),ia={class:"text-lg font-bold text-orange-700 dark:text-orange-300"},ca={key:2,class:"p-6"},da={class:"text-center mb-6"},ua={class:"text-xl font-bold text-gray-900 dark:text-white"},ma={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},va={class:"space-y-3"},ga=["onClick"],ba={class:"text-4xl transform group-hover:scale-110 transition-transform"},xa={class:"flex-1"},pa={class:"font-bold text-gray-900 dark:text-white"},ha={class:"text-sm text-gray-500 dark:text-gray-400"},fa={key:0,class:"text-xs text-orange-600 dark:text-orange-400 mt-1 font-medium"},ya={class:"flex justify-center gap-2 mt-6"},_a={key:3,class:"p-6"},wa={class:"text-center mb-6"},$a={class:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-400 to-red-500 rounded-full mb-4 shadow-lg"},ka=e("h3",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"æŽ¨è–¦å®Œæˆï¼",-1),Ca={class:"inline-flex items-center gap-2 mt-2 px-3 py-1 bg-orange-50 dark:bg-orange-900/30 rounded-full"},ja={class:"text-sm text-orange-700 dark:text-orange-300"},za={class:"text-sm text-gray-500 dark:text-gray-400 mt-3"},Ma={key:0,class:"text-center py-8"},Sa=e("p",{class:"text-6xl mb-4"},"ðŸ¤”",-1),Ta=e("p",{class:"text-gray-600 dark:text-gray-300 font-medium mb-2"},"å“Žå‘€ï¼Œæ¢ä»¶æœ‰é»žåš´æ ¼",-1),Fa=e("p",{class:"text-gray-500 dark:text-gray-400 text-sm mb-4"},"æ‰¾ä¸åˆ°å®Œå…¨ç¬¦åˆçš„å•†å“",-1),Pa={key:1,class:"space-y-3"},Aa=["href"],Na={class:"text-3xl"},qa=["src","alt"],Ra={class:"flex-1 min-w-0"},Ba={class:"flex items-center gap-2"},Da={key:0,class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},La={key:1,class:"text-xs bg-orange-100 dark:bg-orange-800 text-orange-600 dark:text-orange-300 px-1.5 py-0.5 rounded"},Wa={class:"font-bold text-gray-900 dark:text-white truncate text-sm"},Ia={class:"flex items-center gap-2 mt-1"},Ha={class:"text-orange-600 dark:text-orange-400 font-bold"},Ua={key:0,class:"text-xs bg-red-100 dark:bg-red-800 text-red-600 dark:text-red-300 px-1.5 py-0.5 rounded font-medium"},Oa={class:"mt-6 flex gap-3"},he=4,Va=be({__name:"HeaterFinder",props:{products:{}},emits:["close"],setup(H,{emit:Z}){const V=H,D=Z,n=S(1),z=S(null),f=S(null),M=S(null),c=S(null),U=F(()=>({tiny:{min:0,max:500,label:"300-500W"},small:{min:400,max:800,label:"500-800W"},medium:{min:700,max:1200,label:"800-1200W"},large:{min:1e3,max:2e3,label:"1200W ä»¥ä¸Š"}})[z.value||""]||null),T=[{step:1,title:"ä½ çš„ç©ºé–“æœ‰å¤šå¤§ï¼Ÿ ðŸ“",subtitle:"æˆ‘å€‘å¹«ä½ ç®—å‡ºéœ€è¦çš„åŠŸçŽ‡",options:[{value:"tiny",label:"è¿·ä½ ç©ºé–“",desc:"2åªä»¥ä¸‹ (æµ´å®¤ã€æ›¸æ¡Œ)",emoji:"ðŸš¿",watt:"300-500W"},{value:"small",label:"å°åªæ•¸",desc:"2-4åª (å°è‡¥å®¤)",emoji:"ðŸ›ï¸",watt:"500-800W"},{value:"medium",label:"ä¸­åªæ•¸",desc:"4-6åª (è‡¥å®¤ã€æ›¸æˆ¿)",emoji:"ðŸ ",watt:"800-1200W"},{value:"large",label:"å¤§åªæ•¸",desc:"6åªä»¥ä¸Š (å®¢å»³)",emoji:"ðŸ¡",watt:"1200W+"}],answer:z},{step:2,title:"ä¸»è¦åœ¨å“ªè£¡ä½¿ç”¨ï¼Ÿ ðŸ ",subtitle:"ä¸åŒå ´æ™¯é©åˆä¸åŒé¡žåž‹",options:[{value:"bedroom",label:"è‡¥å®¤ç¡è¦º",desc:"éœ€è¦å®‰éœã€æ•´å¤œä½¿ç”¨",emoji:"ðŸ˜´",priority:"quiet"},{value:"living",label:"å®¢å»³æ´»å‹•",desc:"å¿«é€Ÿæš–æˆ¿ã€å¤§ç¯„åœ",emoji:"ðŸ›‹ï¸",priority:"power"},{value:"bathroom",label:"æµ´å®¤æ´—æ¾¡",desc:"é˜²æ°´ã€å¿«é€ŸåŠ ç†±",emoji:"ðŸš¿",priority:"waterproof"},{value:"office",label:"è¾¦å…¬æ¡Œä¸‹",desc:"å±€éƒ¨å–æš–ã€çœé›»",emoji:"ðŸ’¼",priority:"compact"}],answer:f},{step:3,title:"åå¥½å“ªç¨®é›»æš–å™¨ï¼Ÿ ðŸ”¥",subtitle:"å„æœ‰å„ªç¼ºé»žï¼Œé¸æœ€é©åˆçš„",options:[{value:"ceramic",label:"é™¶ç“·é›»æš–å™¨",desc:"å¿«é€ŸåŠ ç†±ã€é«”ç©å°",emoji:"âš¡",type:"ceramic"},{value:"oil",label:"è‘‰ç‰‡å¼æš–çˆ",desc:"æŒä¹…ä¿æš–ã€ä¸ä¹¾ç‡¥",emoji:"ðŸŒ¡ï¸",type:"oil"},{value:"halogen",label:"é¹µç´ /ç¢³ç´ ",desc:"å³é–‹å³ç†±ã€çœé›»",emoji:"ðŸ’¡",type:"halogen"},{value:"any",label:"éƒ½å¯ä»¥",desc:"è®“ç³»çµ±æŽ¨è–¦æœ€é©åˆ",emoji:"ðŸ¤·",type:"any"}],answer:M},{step:4,title:"é ç®—å¤§æ¦‚å¤šå°‘ï¼Ÿ ðŸ’°",subtitle:"æ‰¾åˆ°æœ€è¶…å€¼çš„é¸æ“‡",options:[{value:"budget",label:"å¹³åƒ¹é¦–é¸",desc:"2åƒä»¥å…§",emoji:"ðŸŒ±",max:2e3},{value:"mid",label:"ä¸­åƒ¹ä½",desc:"2åƒåˆ°5åƒ",emoji:"â­",min:2e3,max:5e3},{value:"premium",label:"é«˜å“è³ª",desc:"5åƒä»¥ä¸Š",emoji:"ðŸ‘‘",min:5e3}],answer:c}],q=F(()=>T[n.value-1]),E=F(()=>{const o=[];return z.value==="tiny"?o.push("è¿·ä½ ç©ºé–“"):z.value==="small"?o.push("å°åªæ•¸"):z.value==="medium"?o.push("ä¸­åªæ•¸"):z.value==="large"&&o.push("å¤§åªæ•¸"),f.value==="bedroom"?o.push("è‡¥å®¤ç”¨"):f.value==="living"?o.push("å®¢å»³ç”¨"):f.value==="bathroom"?o.push("æµ´å®¤ç”¨"):f.value==="office"&&o.push("è¾¦å…¬ç”¨"),o.join(" + ")}),k=F(()=>({bedroom:"é€™å¹¾æ¬¾è¶…éœéŸ³ï¼Œç¡è¦ºé–‹æ•´æ™šä¹Ÿä¸æ€•ï¼",living:"å¤§åŠŸçŽ‡å¿«é€Ÿæš–æˆ¿ï¼Œå®¢å»³ä¹Ÿèƒ½æš–å‘¼å‘¼ï½ž",bathroom:"é˜²æ°´è¨­è¨ˆï¼Œæ´—æ¾¡å‰é–‹æœ€é©åˆï¼",office:"å°å·§çœé›»ï¼Œæ”¾æ¡Œä¸‹æš–è…³è¶…èˆ’æœï¼"})[f.value||""]||"æ ¹æ“šä½ çš„éœ€æ±‚ç²¾å¿ƒæŒ‘é¸ï¼"),_=F(()=>{let o=[...V.products];if(o=o.filter(m=>m.category_slug==="heater"),U.value){const{min:m,max:h}=U.value;o=o.filter(g=>{var B;const w=((B=g.specs)==null?void 0:B.heating_power)||0;return w>=m*.7&&w<=h*1.3})}M.value&&M.value!=="any"&&(o=o.filter(m=>{var g;return(((g=m.specs)==null?void 0:g.type)||"")===M.value}));const $=T[3].options.find(m=>m.value===c.value);return $&&($.max&&(o=o.filter(m=>m.price<=$.max)),$.min&&(o=o.filter(m=>m.price>=$.min))),f.value==="bedroom"?o.sort((m,h)=>{var B,L;const g=((B=m.specs)==null?void 0:B.type)||"",w=((L=h.specs)==null?void 0:L.type)||"";return g==="oil"&&w!=="oil"?-1:w==="oil"&&g!=="oil"?1:0}):f.value==="living"?o.sort((m,h)=>{var B,L;const g=((B=m.specs)==null?void 0:B.heating_power)||0;return(((L=h.specs)==null?void 0:L.heating_power)||0)-g}):f.value==="bathroom"?o.sort((m,h)=>{var B,L;const g=(B=m.features)!=null&&B.some(O=>O.includes("æµ´å®¤")||O.includes("é˜²æ°´")||O.includes("IP"))?1:0;return((L=h.features)!=null&&L.some(O=>O.includes("æµ´å®¤")||O.includes("é˜²æ°´")||O.includes("IP"))?1:0)-g}):f.value==="office"&&o.sort((m,h)=>{var B,L;const g=((B=m.specs)==null?void 0:B.heating_power)||0,w=((L=h.specs)==null?void 0:L.heating_power)||0;return g-w}),o.length<3&&(o=[...V.products].filter(m=>m.category_slug==="heater"),$&&($.max&&(o=o.filter(m=>m.price<=$.max*1.2)),$.min&&(o=o.filter(m=>m.price>=$.min*.8))),o.sort((m,h)=>m.price-h.price)),o.slice(0,3)}),j=o=>new Intl.NumberFormat("zh-TW").format(o),x=o=>{const $=o.brand;if($&&$!=="Other")return $;const m=o.name.match(/ã€([^ã€‘]+)ã€‘/);return m?m[1]:""},I=o=>{var h;const $=((h=o.specs)==null?void 0:h.type)||"";return{ceramic:"é™¶ç“·å¼",oil:"è‘‰ç‰‡å¼",halogen:"é¹µç´ /ç¢³ç´ ",fan:"æš–é¢¨æ©Ÿ"}[$]||""},Q=o=>{var $;return(($=o.specs)==null?void 0:$.heating_power)||0},J=o=>{q.value.answer.value=o,n.value<he?setTimeout(()=>n.value++,300):setTimeout(()=>n.value=he+1,300)},b=()=>{n.value>1&&n.value--},u=()=>{n.value=1,z.value=null,f.value=null,M.value=null,c.value=null},C=o=>{const $=o.original_price;return!$||$<=o.price?null:Math.round((1-o.price/$)*100)},r=["ðŸ¥‡","ðŸ¥ˆ","ðŸ¥‰"];return(o,$)=>(t(),s("div",Xo,[e("div",{class:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:$[0]||($[0]=m=>D("close"))}),e("div",Yo,[e("div",ea,[e("div",ta,[e("div",sa,[v(p(re),{size:18})]),la]),e("button",{onClick:$[1]||($[1]=m=>D("close")),class:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-white/80 hover:text-white hover:bg-white/30 transition-all"},[v(p(ne),{size:18})])]),n.value<=he?(t(),s("div",oa,[e("div",{class:"h-full bg-gradient-to-r from-orange-500 to-red-500 transition-all duration-500 ease-out",style:ot({width:`${n.value/he*100}%`})},null,4)])):y("",!0),n.value>1&&U.value?(t(),s("div",aa,[e("div",ra,[v(p(He),{size:20,class:"text-orange-600 dark:text-orange-400"})]),e("div",null,[na,e("p",ia,a(U.value.label),1)])])):y("",!0),n.value<=he?(t(),s("div",ca,[e("div",da,[e("h3",ua,a(q.value.title),1),e("p",ma,a(q.value.subtitle),1)]),e("div",va,[(t(!0),s(N,null,W(q.value.options,m=>(t(),s("button",{key:m.value,class:P(["w-full p-4 rounded-2xl border-2 text-left transition-all duration-200 flex items-center gap-4 group",q.value.answer.value===m.value?"border-orange-500 bg-orange-50 dark:bg-orange-900/30 scale-[1.02] shadow-md":"border-gray-100 dark:border-gray-600 hover:border-orange-300 hover:bg-orange-50/50 dark:hover:bg-orange-900/20 hover:scale-[1.01]"]),onClick:h=>J(m.value)},[e("span",ba,a(m.emoji),1),e("div",xa,[e("p",pa,a(m.label),1),e("p",ha,a(m.desc),1),m.watt?(t(),s("p",fa," å»ºè­° "+a(m.watt),1)):y("",!0)]),v(p(ge),{class:P(["transition-all",q.value.answer.value===m.value?"text-orange-500 translate-x-1":"text-gray-300 dark:text-gray-500 group-hover:text-orange-400 group-hover:translate-x-1"]),size:20},null,8,["class"])],10,ga))),128))]),n.value>1?(t(),s("button",{key:0,class:"mt-6 flex items-center gap-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors mx-auto",onClick:b},[v(p(je),{size:18}),R(" ä¸Šä¸€é¡Œ ")])):y("",!0),e("div",ya,[(t(),s(N,null,W(he,m=>e("div",{key:m,class:P(["w-2 h-2 rounded-full transition-all",m===n.value?"w-6 bg-orange-500":m<n.value?"bg-orange-300":"bg-gray-200 dark:bg-gray-600"])},null,2)),64))])])):(t(),s("div",_a,[e("div",wa,[e("div",$a,[v(p(Le),{size:40,class:"text-white"})]),ka,e("div",Ca,[e("span",ja,a(E.value),1)]),e("p",za,a(k.value),1)]),_.value.length===0?(t(),s("div",Ma,[Sa,Ta,Fa,e("button",{class:"px-6 py-2.5 bg-orange-500 text-white rounded-xl font-medium hover:bg-orange-600 transition-colors",onClick:u}," é‡æ–°æŽ¨è–¦ ")])):(t(),s("div",Pa,[(t(!0),s(N,null,W(_.value,(m,h)=>(t(),s("a",{key:m.id,href:m.affiliate_url||m.momo_url,target:"_blank",rel:"noopener noreferrer nofollow",class:P(["flex items-center gap-4 p-4 rounded-2xl transition-all hover:scale-[1.02]",h===0?"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/30 dark:to-orange-900/30 border-2 border-amber-200 dark:border-amber-700":"bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600"])},[e("span",Na,a(r[h]),1),e("img",{src:m.image_url,alt:m.name,class:"w-16 h-16 object-cover rounded-xl flex-shrink-0 shadow-sm bg-white",loading:"lazy"},null,8,qa),e("div",Ra,[e("div",Ba,[x(m)?(t(),s("p",Da,a(x(m)),1)):y("",!0),I(m)?(t(),s("span",La,a(I(m)),1)):y("",!0)]),e("p",Wa,a(Q(m)?`${Q(m)}W`:"")+" "+a(m.model),1),e("div",Ia,[e("span",Ha,"NT$ "+a(j(m.price)),1),C(m)?(t(),s("span",Ua," -"+a(C(m))+"% ",1)):y("",!0)])])],10,Aa))),128))])),e("div",Oa,[e("button",{class:"flex-1 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl font-medium text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:u}," ðŸ”„ é‡æ–°æŽ¨è–¦ "),e("button",{class:"flex-1 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl font-bold hover:from-orange-600 hover:to-red-600 transition-all shadow-md",onClick:$[2]||($[2]=m=>D("close"))}," å®Œæˆ âœ¨ ")])]))])]))}}),Ea={class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm"},Ka={class:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden"},Qa={class:"bg-gradient-to-r from-indigo-600 to-purple-500 text-white p-6"},Ga={class:"flex items-center justify-between"},Za={class:"flex items-center gap-3"},Ja={class:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center"},Xa=e("div",null,[e("h2",{class:"text-xl font-bold"},"é›»é¢¨æ‰‡å¹«æˆ‘é¸"),e("p",{class:"text-indigo-100 text-sm"},"4 å€‹å•é¡Œï¼Œæ‰¾åˆ°æœ€é©åˆçš„é›»é¢¨æ‰‡")],-1),Ya={class:"mt-4 flex gap-2"},er={class:"p-6 overflow-y-auto max-h-[60vh]"},tr={class:"text-center mb-6"},sr={class:"text-2xl font-bold text-gray-900"},lr={class:"text-gray-500 mt-1"},or={key:0,class:"mb-4 p-3 bg-indigo-50 border border-indigo-200 rounded-xl"},ar={class:"flex items-center gap-2 text-indigo-700"},rr=e("span",{class:"font-medium text-sm"},"DC è®Šé »é¦¬é”æ¯” AC å®šé »çœé›»ç´„ 50%ï¼Œä¸”é‹è½‰æ›´å®‰éœ",-1),nr={class:"space-y-3"},ir=["onClick"],cr={class:"flex items-center gap-4"},dr={class:"text-3xl"},ur={class:"flex-1"},mr={class:"font-semibold text-gray-900"},vr={class:"text-sm text-gray-500"},gr={key:0,class:"w-2 h-2 bg-white rounded-full"},br={class:"text-center mb-6"},xr=e("div",{class:"text-5xl mb-3"},"ðŸŽ‰",-1),pr=e("h3",{class:"text-2xl font-bold text-gray-900"},"ç‚ºä½ æŽ¨è–¦é€™äº›é›»é¢¨æ‰‡ï¼",-1),hr={class:"text-gray-500 mt-1"},fr={key:0,class:"space-y-3"},yr={class:"flex gap-4"},_r=["src","alt"],wr={class:"flex-1 min-w-0"},$r={class:"font-medium text-gray-900 line-clamp-2"},kr={class:"text-indigo-600 font-bold mt-1"},Cr={class:"flex items-center gap-2 mt-1"},jr={class:"text-xs px-2 py-0.5 bg-indigo-100 text-indigo-700 rounded-full"},zr={key:1,class:"text-center py-8"},Mr=e("div",{class:"text-4xl mb-3"},"ðŸ˜…",-1),Sr=e("p",{class:"text-gray-500"},"æ‰¾ä¸åˆ°å®Œå…¨ç¬¦åˆçš„å•†å“ï¼Œè©¦è©¦èª¿æ•´æ¢ä»¶ï¼Ÿ",-1),Tr=[Mr,Sr],Fr={key:0,class:"p-4 border-t border-gray-200 flex justify-between"},Pr={key:1},Ar=["disabled"],Nr=["disabled"],we=4,qr=be({__name:"FanFinder",props:{products:{}},emits:["close"],setup(H,{emit:Z}){const V=H,D=Z,n=S(1),z=S(null),f=S(null),M=S(null),c=S(null),U=[{step:1,title:"ä½ éœ€è¦ä»€éº¼é¡žåž‹çš„é¢¨æ‰‡ï¼Ÿ",subtitle:"ä¸åŒé¡žåž‹é©åˆä¸åŒç©ºé–“",options:[{value:"stand",label:"ç«‹æ‰‡",desc:"æœ€å¸¸è¦‹çš„è½åœ°åž‹é¢¨æ‰‡",emoji:"ðŸ§"},{value:"circulator",label:"å¾ªç’°æ‰‡",desc:"å¼·åŠ›æ¸¦æµï¼Œæ­é…å†·æ°£æ›´æ¶¼çˆ½",emoji:"ðŸŒ€"},{value:"tower",label:"å¤§å»ˆæ‰‡",desc:"ç›´ç«‹å¼ï¼Œçœç©ºé–“åˆæ™‚å°š",emoji:"ðŸ—¼"},{value:"desk",label:"æ¡Œæ‰‡",desc:"å°å·§å¯æ„›ï¼Œæ”¾æ¡Œä¸Šä½¿ç”¨",emoji:"ðŸ–¥ï¸"}],answer:z},{step:2,title:"ä½ åå¥½å“ªç¨®é¦¬é”ï¼Ÿ",subtitle:"DC è®Šé »æ›´çœé›»éœéŸ³",options:[{value:"dc",label:"DC è®Šé »",desc:"çœé›»ã€å®‰éœã€é¢¨é‡å¯èª¿",emoji:"âš¡"},{value:"ac",label:"AC å®šé »",desc:"åƒ¹æ ¼å¯¦æƒ ã€é¢¨åŠ›å¼·å‹",emoji:"ðŸ’¨"},{value:"any",label:"éƒ½å¯ä»¥",desc:"å¹«æˆ‘æŽ¨è–¦æœ€é©åˆçš„",emoji:"ðŸ¤·"}],answer:f},{step:3,title:"ä½ é‡è¦–ä»€éº¼åŠŸèƒ½ï¼Ÿ",subtitle:"é¸æ“‡æœ€åœ¨æ„çš„åŠŸèƒ½",options:[{value:"quiet",label:"å®‰éœé‹è½‰",desc:"ç¡çœ æ™‚ä¹Ÿèƒ½ä½¿ç”¨",emoji:"ðŸ¤«"},{value:"remote",label:"é™æŽ§åŠŸèƒ½",desc:"æ‡¶äººå¿…å‚™ï¼Œä¸ç”¨èµ·èº«",emoji:"ðŸ“±"},{value:"oscillation",label:"æ“ºé ­åŠŸèƒ½",desc:"å»£è§’é€é¢¨æ›´æ¶¼å¿«",emoji:"ðŸ”„"},{value:"design",label:"å¤–åž‹è¨­è¨ˆ",desc:"å¥½çœ‹ä¹Ÿå¾ˆé‡è¦",emoji:"âœ¨"}],answer:M},{step:4,title:"ä½ çš„é ç®—ç¯„åœï¼Ÿ",subtitle:"é¸æ“‡é©åˆçš„åƒ¹ä½",options:[{value:"budget",label:"ç¶“æ¿Ÿå¯¦æƒ ",desc:"NT$ 1,500 ä»¥ä¸‹",emoji:"ðŸ’µ"},{value:"mid",label:"ä¸­ç­‰åƒ¹ä½",desc:"NT$ 1,500-3,000",emoji:"ðŸ’³"},{value:"premium",label:"ä¸­é«˜åƒ¹ä½",desc:"NT$ 3,000-6,000",emoji:"ðŸ’Ž"},{value:"luxury",label:"é ‚ç´šæ——è‰¦",desc:"NT$ 6,000 ä»¥ä¸Š",emoji:"ðŸ‘‘"}],answer:c}],T=F(()=>U[n.value-1]),q=F(()=>T.value.answer.value!==null),E=()=>{n.value<we&&q.value&&n.value++},k=()=>{n.value>1&&n.value--},_=b=>{T.value.answer.value=b,n.value<we&&setTimeout(()=>E(),300)},j=F(()=>{let b=[...V.products];if(z.value&&z.value!=="any"&&(b=b.filter(C=>{const r=C.specs;return(r==null?void 0:r.fan_type)===z.value})),f.value&&f.value!=="any"&&(b=b.filter(C=>{const r=C.specs;return(r==null?void 0:r.motor_type)===f.value})),c.value){const r={budget:{min:0,max:1500},mid:{min:1e3,max:3e3},premium:{min:2500,max:6e3},luxury:{min:5e3,max:1/0}}[c.value];r&&(b=b.filter(o=>o.price>=r.min&&o.price<=r.max))}return b.map(C=>{let r=0;const o=C.specs||{},$=C.features||[];M.value==="quiet"&&($.some(g=>g.includes("éœéŸ³"))&&(r+=20),o.motor_type==="dc"&&(r+=15)),M.value==="remote"&&(o.remote_control&&(r+=25),$.some(g=>g.includes("é™æŽ§"))&&(r+=10)),M.value==="oscillation"&&(o.oscillation&&(r+=25),$.some(g=>g.includes("æ“ºé ­")||g.includes("3D"))&&(r+=10)),M.value==="design"&&["dyson","balmuda","plus minus zero","æ­£è² é›¶"].some(w=>C.brand.toLowerCase().includes(w))&&(r+=30),o.motor_type==="dc"&&(r+=10),["panasonic","åœ‹éš›ç‰Œ","dyson","balmuda","xiaomi","å°ç±³","iris"].some(g=>C.brand.toLowerCase().includes(g))&&(r+=15);const h=C.original_price?Math.round((1-C.price/C.original_price)*100):0;return r+=Math.min(h,20),{product:C,score:r}}).sort((C,r)=>r.score-C.score).slice(0,6).map(C=>C.product)}),x=F(()=>n.value===we&&c.value!==null),I=b=>new Intl.NumberFormat("zh-TW").format(b),Q=b=>b.slug?b.slug:`${b.brand.toLowerCase()}-${b.id}`.replace(/[\s_]/g,"-"),J=()=>{n.value=1,z.value=null,f.value=null,M.value=null,c.value=null};return(b,u)=>{const C=Fe;return t(),s("div",Ea,[e("div",Ka,[e("div",Qa,[e("div",Ga,[e("div",Za,[e("div",Ja,[v(p(We),{size:24})]),Xa]),e("button",{class:"w-10 h-10 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors",onClick:u[0]||(u[0]=r=>D("close"))},[v(p(ne),{size:20})])]),e("div",Ya,[(t(),s(N,null,W(we,r=>e("div",{key:r,class:P(["h-1.5 flex-1 rounded-full transition-all",r<=n.value?"bg-white":"bg-white/30"])},null,2)),64))])]),e("div",er,[x.value?(t(),s(N,{key:1},[e("div",br,[xr,pr,e("p",hr,"æ ¹æ“šä½ çš„éœ€æ±‚ç²¾é¸ "+a(j.value.length)+" æ¬¾",1)]),j.value.length>0?(t(),s("div",fr,[(t(!0),s(N,null,W(j.value,r=>(t(),G(C,{key:r.id,to:`/fan/${Q(r)}`,class:"block p-4 rounded-xl border border-gray-200 hover:border-indigo-300 hover:shadow-md transition-all",onClick:u[1]||(u[1]=o=>D("close"))},{default:le(()=>[e("div",yr,[e("img",{src:r.image_url,alt:r.name,class:"w-20 h-20 object-cover rounded-lg bg-gray-100"},null,8,_r),e("div",wr,[e("div",$r,a(r.name),1),e("div",kr,"NT$ "+a(I(r.price)),1),e("div",Cr,[e("span",jr,a(r.brand),1)])])])]),_:2},1032,["to"]))),128))])):(t(),s("div",zr,Tr)),e("button",{class:"w-full mt-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-xl transition-colors",onClick:J}," é‡æ–°é¸æ“‡ ")],64)):(t(),s(N,{key:0},[e("div",tr,[e("h3",sr,a(T.value.title),1),e("p",lr,a(T.value.subtitle),1)]),n.value===2?(t(),s("div",or,[e("div",ar,[v(p(He),{size:18}),rr])])):y("",!0),e("div",nr,[(t(!0),s(N,null,W(T.value.options,r=>(t(),s("button",{key:r.value,class:P(["w-full p-4 rounded-xl border-2 text-left transition-all",T.value.answer.value===r.value?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-indigo-300 hover:bg-gray-50"]),onClick:o=>_(r.value)},[e("div",cr,[e("span",dr,a(r.emoji),1),e("div",ur,[e("div",mr,a(r.label),1),e("div",vr,a(r.desc),1)]),e("div",{class:P(["w-6 h-6 rounded-full border-2 flex items-center justify-center",T.value.answer.value===r.value?"border-indigo-500 bg-indigo-500":"border-gray-300"])},[T.value.answer.value===r.value?(t(),s("div",gr)):y("",!0)],2)])],10,ir))),128))])],64))]),x.value?y("",!0):(t(),s("div",Fr,[n.value>1?(t(),s("button",{key:0,class:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors",onClick:k},[v(p(je),{size:20}),R(" ä¸Šä¸€æ­¥ ")])):(t(),s("div",Pr)),n.value<we?(t(),s("button",{key:2,disabled:!q.value,class:P(["flex items-center gap-2 px-6 py-2 rounded-xl font-medium transition-all",q.value?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-200 text-gray-400 cursor-not-allowed"]),onClick:E},[R(" ä¸‹ä¸€æ­¥ "),v(p(ge),{size:20})],10,Ar)):(t(),s("button",{key:3,disabled:!q.value,class:P(["flex items-center gap-2 px-6 py-2 rounded-xl font-medium transition-all",q.value?"bg-gradient-to-r from-indigo-600 to-purple-500 text-white hover:from-indigo-700 hover:to-purple-600":"bg-gray-200 text-gray-400 cursor-not-allowed"]),onClick:()=>{}},[v(p(re),{size:18}),R(" æŸ¥çœ‹æŽ¨è–¦ ")],10,Nr))]))])])}}});function Rr(H){const Z=at(),V=rt(),D=()=>{const c=Z.query;return{brands:c.brands?String(c.brands).split(",").filter(Boolean):[],capacityRange:String(c.capacity||"all"),priceMin:c.priceMin?Number(c.priceMin):H.min,priceMax:c.priceMax?Number(c.priceMax):H.max,sort:c.sort||"popularity",q:String(c.q||""),page:c.page?Number(c.page):1}};return{parseUrlFilters:D,updateUrl:(c,U=!1)=>{const T={};c.brands&&c.brands.length>0&&(T.brands=c.brands.join(",")),c.capacityRange&&c.capacityRange!=="all"&&(T.capacity=c.capacityRange),c.priceMin&&c.priceMin!==H.min&&(T.priceMin=String(c.priceMin)),c.priceMax&&c.priceMax!==H.max&&(T.priceMax=String(c.priceMax)),c.sort&&c.sort!=="popularity"&&(T.sort=c.sort),c.q&&(T.q=c.q),c.page&&c.page>1&&(T.page=String(c.page)),U?V.replace({query:T}):V.push({query:T})},clearUrlFilters:()=>{V.push({query:{}})},hasActiveFilters:()=>{const c=D();return!!(c.brands&&c.brands.length>0||c.capacityRange&&c.capacityRange!=="all"||c.priceMin&&c.priceMin!==H.min||c.priceMax&&c.priceMax!==H.max||c.sort!=="popularity"||c.q)},getShareableUrl:()=>typeof window>"u"?"":window.location.href}}const te=H=>($t("data-v-94cfbcd6"),H=H(),kt(),H),Br={class:"min-h-screen bg-gray-50"},Dr={class:"bg-white border-b border-gray-200 sticky top-0 z-40"},Lr={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Wr={class:"flex items-center justify-between h-16"},Ir=te(()=>e("img",{src:St,alt:"æ¯”æ¯”çœ‹",class:"w-8 h-8"},null,-1)),Hr=te(()=>e("span",{class:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent"},"æ¯”æ¯”çœ‹",-1)),Ur={class:"hidden sm:flex items-center gap-1"},Or=te(()=>e("span",{class:"text-sm"},"å…¨éƒ¨å“é¡ž",-1)),Vr={class:"relative"},Er={key:0,class:"ml-auto text-xs text-gray-400"},Kr=te(()=>e("span",{class:"text-sm"},"å“é¡ž",-1)),Qr={id:"main-content",class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",role:"main"},Gr={class:"mb-6"},Zr={class:"text-3xl font-bold text-gray-900 flex items-center gap-3"},Jr={class:"mt-2 text-gray-600"},Xr={class:"mb-6"},Yr={class:"relative max-w-md"},en={key:0,class:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 rounded-xl"},tn={class:"flex items-start gap-3"},sn=te(()=>e("div",null,[e("p",{class:"text-sm font-medium text-blue-900"},"ä¸çŸ¥é“é¸å“ªæ¬¾ï¼Ÿ"),e("p",{class:"text-sm text-blue-700 mt-0.5"}," é»žæ“Šå•†å“å¡ç‰‡ä¸‹æ–¹çš„ã€ŒåŠ å…¥æ¯”è¼ƒã€æŒ‰éˆ•ï¼Œæœ€å¤šå¯é¸ 4 æ¬¾ä¸¦æŽ’æ¯”è¼ƒè¦æ ¼ï¼ ")],-1)),ln={class:"flex flex-wrap gap-3 mb-6"},on={key:1,class:"flex flex-wrap gap-2 mb-6"},an=["onClick"],rn={class:"lg:flex lg:gap-8"},nn={class:"absolute right-0 top-0 h-full w-80 lg:w-full lg:relative lg:h-auto bg-white lg:bg-transparent lg:rounded-xl overflow-y-auto"},cn={class:"flex items-center justify-between p-4 border-b border-gray-200 lg:hidden"},dn=te(()=>e("span",{class:"font-semibold text-gray-900"},"ç¯©é¸æ¢ä»¶",-1)),un={class:"p-4 lg:p-0 space-y-6"},mn={class:"bg-white rounded-xl p-4 lg:border lg:border-gray-200"},vn=te(()=>e("h3",{class:"font-semibold text-gray-900 mb-3"},"å“ç‰Œ",-1)),gn={class:"space-y-2"},bn=["checked","onChange"],xn={class:"text-gray-700 flex-1"},pn={class:"text-xs text-gray-400 group-hover:text-gray-600"},hn={key:0},fn={class:"space-y-2 pl-2 border-l-2 border-gray-100"},yn=["checked","onChange"],_n={class:"text-gray-600 text-sm flex-1"},wn={class:"text-xs text-gray-400 group-hover:text-gray-600"},$n={class:"bg-white rounded-xl p-4 lg:border lg:border-gray-200"},kn=te(()=>e("h3",{class:"font-semibold text-gray-900 mb-3"},"åƒ¹æ ¼ç¯„åœ",-1)),Cn={class:"space-y-4"},jn={class:"flex items-center gap-2"},zn=["min","max"],Mn=te(()=>e("span",{class:"text-gray-400"},"-",-1)),Sn=["min","max"],Tn={class:"text-xs text-gray-500"},Fn={class:"p-4 border-t border-gray-200 lg:hidden"},Pn={class:"flex-1"},An={class:"flex items-center justify-between mb-6 bg-white rounded-xl p-4 border border-gray-200"},Nn={class:"text-sm text-gray-600"},qn={class:"flex items-center gap-2"},Rn=["value"],Bn={key:0,class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"},Dn={key:1,class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"},Ln={key:2,class:"flex items-center justify-center gap-2 mt-8"},Wn=["disabled"],In={key:0,class:"text-gray-400"},Hn=["onClick"],Un={key:0,class:"text-gray-400"},On=["disabled"],Vn={key:3,class:"text-center text-sm text-gray-500 mt-4"},En={key:4,class:"text-center py-16 bg-white rounded-xl border border-gray-200"},Kn={class:"text-gray-900 font-medium mb-2"},Qn={class:"text-gray-500 text-sm mb-6"},Gn={key:0,class:"mb-6"},Zn=te(()=>e("p",{class:"text-sm text-gray-500 mb-2"},"è©¦è©¦æœå°‹é€™äº›å“ç‰Œï¼š",-1)),Jn={class:"flex flex-wrap justify-center gap-2"},Xn=["onClick"],Yn=te(()=>e("footer",{class:"bg-white border-t border-gray-200 mt-16"},[e("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},[e("div",{class:"text-center text-gray-500 text-sm"},[e("p",null,"Â© 2025 æ¯”æ¯”çœ‹. æœ¬ç«™åŒ…å«è¯ç›Ÿè¡ŒéŠ·é€£çµã€‚"),e("p",{class:"mt-1"},"åƒ¹æ ¼èˆ‡è¦æ ¼åƒ…ä¾›åƒè€ƒï¼Œè«‹ä»¥å®˜æ–¹å…¬å‘Šç‚ºæº–ã€‚")])])],-1)),ei={key:0,class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-40 p-4"},ti={class:"max-w-7xl mx-auto flex items-center justify-between"},si={class:"flex items-center gap-3"},li={class:"font-medium text-gray-900"},oi={class:"hidden sm:flex items-center gap-2"},ai={class:"truncate max-w-[100px]"},ri=["onClick"],ni={class:"flex items-center gap-3"},ii=["disabled"],$e=20,ci=be({__name:"index",async setup(H){var Qe,Ge,Ze,Je;let Z,V;const D=at();rt();const n=F(()=>D.params.category),{getCategoryConfig:z}=Ht(),f=F(()=>z(n.value));if(!f.value)throw xt({statusCode:404,statusMessage:"æ‰¾ä¸åˆ°æ­¤å“é¡ž",fatal:!0});[Z,V]=pt(()=>Mt()),await Z,V();const{allProducts:M,isLoading:c,getAllBrands:U,getPriceRange:T,filterProducts:q,sortProducts:E}=zt(),k=F(()=>M.value.filter(d=>d.category_slug===n.value||n.value==="dehumidifier"));jt({title:`${((Qe=f.value)==null?void 0:Qe.name)||""} | æ¯”æ¯”çœ‹`,meta:[{name:"description",content:((Ge=f.value)==null?void 0:Ge.seoDescription)||""}]});const _=S(1),j=S(""),x=S(null),I=S(!1),Q=()=>{I.value=window.scrollY>500},J=()=>{window.scrollTo({top:0,behavior:"smooth"})};ht(()=>{window.addEventListener("scroll",Q),C(),Ue()}),ft(()=>{window.removeEventListener("scroll",Q)});const b=S(new Set),u=S(!1),C=()=>{if(typeof window<"u"){const d=localStorage.getItem(`${n.value}-favorites`);d&&(b.value=new Set(JSON.parse(d)))}},r=()=>{typeof window<"u"&&localStorage.setItem(`${n.value}-favorites`,JSON.stringify([...b.value]))},o=d=>{b.value.has(d)?b.value.delete(d):b.value.add(d),b.value=new Set(b.value),r()},$=d=>b.value.has(d),m=S(!1),h=S(!1),g=S(!1),w=S([]),B=d=>{const l=w.value.findIndex(K=>K.id===d.id);l===-1?w.value.length<4&&w.value.push(d):w.value.splice(l,1)},L=d=>w.value.some(l=>l.id===d),O=d=>{w.value=w.value.filter(l=>l.id!==d)},Y=d=>{x.value===d.label?(x.value=null,Ne()):x.value=d.label},oe=F(()=>M.value.length>0||!c.value),ae=F(()=>U()),ie=F(()=>T()),ee=S(!1),Pe=((Ze=f.value)==null?void 0:Ze.popularBrands)||[],ze=d=>k.value.filter(l=>l.brand===d).length,nt=F(()=>ae.value.filter(d=>Pe.some(l=>d.toUpperCase().includes(l.toUpperCase()))&&ze(d)>0)),Ae=F(()=>ae.value.filter(d=>!Pe.some(l=>d.toUpperCase().includes(l.toUpperCase()))&&ze(d)>0)),A=yt({brands:[],priceMin:0,priceMax:1e5,capacityRange:"all"});Me(oe,d=>{if(d){const l=ie.value;A.priceMin=l.min,A.priceMax=l.max}},{immediate:!0});const ce=S(((Je=f.value)==null?void 0:Je.defaultSort)||"popularity"),{parseUrlFilters:it,updateUrl:ct}=Rr({min:0,max:1e5}),Ue=()=>{const d=it();d.brands&&d.brands.length>0&&(A.brands=d.brands),d.capacityRange&&(A.capacityRange=d.capacityRange),d.priceMin!==void 0&&(A.priceMin=d.priceMin),d.priceMax!==void 0&&(A.priceMax=d.priceMax),ce.value=d.sort,d.q&&(j.value=d.q),d.page&&(_.value=d.page)};Me([()=>A.brands,()=>A.capacityRange,()=>A.priceMin,()=>A.priceMax,ce,j,_],()=>{ct({brands:A.brands,capacityRange:A.capacityRange,priceMin:A.priceMin,priceMax:A.priceMax,sort:ce.value,q:j.value,page:_.value},!0)},{deep:!0}),Me(()=>D.query,()=>{Ue()},{deep:!0});const fe=S(!1),de=F(()=>{let d=q(A);if(d=d.filter(l=>l.category_slug===n.value||n.value==="dehumidifier"),j.value.trim()){const l=j.value.toLowerCase().trim();d=d.filter(K=>K.name.toLowerCase().includes(l)||K.brand.toLowerCase().includes(l)||K.model.toLowerCase().includes(l))}return u.value&&(d=d.filter(l=>b.value.has(l.id))),E(d,ce.value)}),Oe=F(()=>de.value.length>0||!j.value.trim()?[]:Pe.slice(0,3)),se=F(()=>Math.ceil(de.value.length/$e)),dt=F(()=>{const d=(_.value-1)*$e,l=d+$e;return de.value.slice(d,l)}),me=F(()=>{const d=se.value,l=_.value,K=[];if(d<=5)for(let X=1;X<=d;X++)K.push(X);else if(l<=3)K.push(1,2,3,4,5);else if(l>=d-2)for(let X=d-4;X<=d;X++)K.push(X);else for(let X=l-2;X<=l+2;X++)K.push(X);return K}),ye=d=>{d>=1&&d<=se.value&&(_.value=d,window.scrollTo({top:0,behavior:"smooth"}))};Me([()=>A.brands,()=>A.priceMin,()=>A.priceMax,ce,j],()=>{_.value=1});const Ve=d=>{const l=A.brands.indexOf(d);l===-1?A.brands.push(d):A.brands.splice(l,1)},Ne=()=>{var d;A.brands=[],A.priceMin=ie.value.min,A.priceMax=ie.value.max,ce.value=((d=f.value)==null?void 0:d.defaultSort)||"popularity",x.value=null,j.value="",u.value=!1},ut=d=>{j.value=d},Ee=d=>new Intl.NumberFormat("zh-TW").format(d),mt=d=>{const l=d.brand;if(l&&l!=="Other")return l;const K=d.name.match(/ã€([^ã€‘]+)ã€‘/);return K?K[1]:""},vt={dehumidifier:Be,"air-purifier":Se,"air-conditioner":Te,heater:Le,fan:We},Ke=F(()=>vt[n.value]||Be),gt=F(()=>[{slug:"dehumidifier",name:"é™¤æ¿•æ©Ÿ",icon:Be,isActive:!0},{slug:"air-purifier",name:"ç©ºæ°£æ¸…æ·¨æ©Ÿ",icon:Se,isActive:!0},{slug:"air-conditioner",name:"å†·æ°£",icon:Te,isActive:!0},{slug:"heater",name:"é›»æš–å™¨",icon:Le,isActive:!0},{slug:"fan",name:"é›»é¢¨æ‰‡",icon:We,isActive:!0}]),xe=S(!1);return(d,l)=>{var X,Xe,Ye,et,tt,st;const K=Fe;return t(),s("div",Br,[e("header",Dr,[e("div",Lr,[e("div",Wr,[v(K,{to:"/",class:"flex items-center gap-2"},{default:le(()=>[Ir,Hr]),_:1}),e("div",Ur,[v(K,{to:"/",class:"flex items-center gap-1 px-3 py-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors"},{default:le(()=>[v(p(De),{size:16}),Or]),_:1}),v(p(ge),{size:16,class:"text-gray-300"}),e("div",Vr,[e("button",{class:"flex items-center gap-2 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg font-medium text-sm",onClick:l[0]||(l[0]=i=>xe.value=!xe.value)},[(t(),G(qe(Ke.value),{size:16})),R(" "+a((X=f.value)==null?void 0:X.name)+" ",1),v(p(Ot),{size:16,class:P(["transition-transform",xe.value?"rotate-180":""])},null,8,["class"])]),v(Re,{name:"dropdown"},{default:le(()=>[xe.value?(t(),s("div",{key:0,class:"absolute top-full left-0 mt-1 w-48 bg-white rounded-xl shadow-lg border border-gray-200 py-2 z-50",onMouseleave:l[2]||(l[2]=i=>xe.value=!1)},[(t(!0),s(N,null,W(gt.value,i=>(t(),G(K,{key:i.slug,to:i.isActive?`/${i.slug}`:"#",class:P(["flex items-center gap-3 px-4 py-2 text-sm transition-colors",i.slug===n.value?"bg-blue-50 text-blue-600 font-medium":i.isActive?"text-gray-700 hover:bg-gray-50":"text-gray-400 cursor-not-allowed"]),onClick:l[1]||(l[1]=ue=>xe.value=!1)},{default:le(()=>[(t(),G(qe(i.icon),{size:18})),R(" "+a(i.name)+" ",1),i.isActive?y("",!0):(t(),s("span",Er,"æ•¬è«‹æœŸå¾…"))]),_:2},1032,["to","class"]))),128))],32)):y("",!0)]),_:1})])]),v(K,{to:"/",class:"sm:hidden flex items-center gap-1 px-3 py-2 text-gray-600 hover:text-blue-600"},{default:le(()=>[v(p(De),{size:18}),Kr]),_:1})])])]),e("main",Qr,[e("div",Gr,[e("h1",Zr,[(t(),G(qe(Ke.value),{size:32,class:"text-blue-600"})),R(" "+a((Xe=f.value)==null?void 0:Xe.name)+"è¦æ ¼æ¯”è¼ƒ ",1)]),e("p",Jr," æ”¶éŒ„ "+a(k.value.length)+" "+a((Ye=f.value)==null?void 0:Ye.namePlural)+"ï¼Œ"+a((et=f.value)==null?void 0:et.description),1)]),e("div",Xr,[e("div",Yr,[v(p(At),{size:20,class:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),ve(e("input",{"onUpdate:modelValue":l[3]||(l[3]=i=>j.value=i),type:"text",placeholder:"æœå°‹å“ç‰Œã€åž‹è™Ÿ...",class:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"},null,512),[[ke,j.value]]),j.value?(t(),s("button",{key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:l[4]||(l[4]=i=>j.value="")},[v(p(ne),{size:18})])):y("",!0)])]),w.value.length===0?(t(),s("div",en,[e("div",tn,[v(p(lt),{size:20,class:"text-blue-600 flex-shrink-0 mt-0.5"}),sn])])):y("",!0),e("div",ln,[n.value==="dehumidifier"?(t(),s("button",{key:0,class:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-blue-500 text-white font-medium rounded-xl hover:from-blue-700 hover:to-blue-600 shadow-sm transition-all",onClick:l[5]||(l[5]=i=>h.value=!0)},[v(p(Ce),{size:18}),R(" åªæ•¸è¨ˆç®—å™¨ ")])):y("",!0),n.value==="dehumidifier"?(t(),s("button",{key:1,class:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-600 to-pink-500 text-white font-medium rounded-xl hover:from-purple-700 hover:to-pink-600 shadow-sm transition-all",onClick:l[6]||(l[6]=i=>g.value=!0)},[v(p(re),{size:18}),R(" å¹«æˆ‘é¸ ")])):y("",!0),n.value==="air-purifier"?(t(),s("button",{key:2,class:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-green-600 to-emerald-500 text-white font-medium rounded-xl hover:from-green-700 hover:to-emerald-600 shadow-sm transition-all",onClick:l[7]||(l[7]=i=>h.value=!0)},[v(p(Ce),{size:18}),R(" åªæ•¸è¨ˆç®—å™¨ ")])):y("",!0),n.value==="air-purifier"?(t(),s("button",{key:3,class:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-green-600 to-teal-500 text-white font-medium rounded-xl hover:from-green-700 hover:to-teal-600 shadow-sm transition-all",onClick:l[8]||(l[8]=i=>g.value=!0)},[v(p(re),{size:18}),R(" å¹«æˆ‘é¸ ")])):y("",!0),n.value==="air-conditioner"?(t(),s("button",{key:4,class:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-cyan-600 to-blue-500 text-white font-medium rounded-xl hover:from-cyan-700 hover:to-blue-600 shadow-sm transition-all",onClick:l[9]||(l[9]=i=>h.value=!0)},[v(p(Ce),{size:18}),R(" å™¸æ•¸è¨ˆç®—å™¨ ")])):y("",!0),n.value==="air-conditioner"?(t(),s("button",{key:5,class:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-cyan-500 to-indigo-500 text-white font-medium rounded-xl hover:from-cyan-600 hover:to-indigo-600 shadow-sm transition-all",onClick:l[10]||(l[10]=i=>g.value=!0)},[v(p(re),{size:18}),R(" å¹«æˆ‘é¸ ")])):y("",!0),n.value==="heater"?(t(),s("button",{key:6,class:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-orange-600 to-red-500 text-white font-medium rounded-xl hover:from-orange-700 hover:to-red-600 shadow-sm transition-all",onClick:l[11]||(l[11]=i=>g.value=!0)},[v(p(re),{size:18}),R(" å¹«æˆ‘é¸ ")])):y("",!0),n.value==="fan"?(t(),s("button",{key:7,class:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-500 text-white font-medium rounded-xl hover:from-indigo-700 hover:to-purple-600 shadow-sm transition-all",onClick:l[12]||(l[12]=i=>g.value=!0)},[v(p(re),{size:18}),R(" å¹«æˆ‘é¸ ")])):y("",!0),b.value.size>0?(t(),s("button",{key:8,class:P(["flex items-center gap-2 px-4 py-2.5 font-medium rounded-xl transition-all",u.value?"bg-red-500 text-white":"bg-white border border-gray-200 text-gray-700 hover:border-red-300 hover:text-red-500"]),onClick:l[13]||(l[13]=i=>u.value=!u.value)},[v(p(Nt),{size:18,fill:u.value?"currentColor":"none"},null,8,["fill"]),R(" æˆ‘çš„æ”¶è— ("+a(b.value.size)+") ",1)],2)):y("",!0)]),(tt=f.value)!=null&&tt.quickTags?(t(),s("div",on,[(t(!0),s(N,null,W(f.value.quickTags,i=>(t(),s("button",{key:i.label,class:P(["px-3 py-1.5 text-sm rounded-full transition-all",x.value===i.label?"bg-blue-600 text-white border border-blue-600 shadow-sm":"bg-white border border-gray-200 text-gray-700 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600"]),onClick:ue=>Y(i)},a(i.label),11,an))),128))])):y("",!0),e("div",rn,[e("button",{class:"lg:hidden w-full mb-4 flex items-center justify-center gap-2 px-4 py-3 bg-white rounded-lg border border-gray-200 text-gray-700 font-medium",onClick:l[14]||(l[14]=i=>fe.value=!0)},[v(p(qt),{size:20}),R(" ç¯©é¸æ¢ä»¶ ")]),e("aside",{class:P(["fixed inset-0 z-50 lg:relative lg:inset-auto","lg:block lg:w-64 lg:flex-shrink-0",fe.value?"block":"hidden"])},[e("div",{class:"absolute inset-0 bg-black/50 lg:hidden",onClick:l[15]||(l[15]=i=>fe.value=!1)}),e("div",nn,[e("div",cn,[dn,e("button",{onClick:l[16]||(l[16]=i=>fe.value=!1)},[v(p(ne),{size:24,class:"text-gray-500"})])]),e("div",un,[e("div",mn,[vn,e("div",gn,[(t(!0),s(N,null,W(nt.value,i=>(t(),s("label",{key:i,class:"flex items-center gap-2 cursor-pointer group"},[e("input",{type:"checkbox",checked:A.brands.includes(i),class:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500",onChange:ue=>Ve(i)},null,40,bn),e("span",xn,a(i),1),e("span",pn,a(ze(i)),1)]))),128)),Ae.value.length>0?(t(),s("div",hn,[e("button",{class:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium mt-2 mb-2",onClick:l[17]||(l[17]=i=>ee.value=!ee.value)},[v(p(ge),{size:16,class:P(["transition-transform",ee.value?"rotate-90":""])},null,8,["class"]),R(" "+a(ee.value?"æ”¶èµ·":`å…¶ä»–å“ç‰Œ (${Ae.value.length})`),1)]),ve(e("div",fn,[(t(!0),s(N,null,W(Ae.value,i=>(t(),s("label",{key:i,class:"flex items-center gap-2 cursor-pointer group"},[e("input",{type:"checkbox",checked:A.brands.includes(i),class:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500",onChange:ue=>Ve(i)},null,40,yn),e("span",_n,a(i),1),e("span",wn,a(ze(i)),1)]))),128))],512),[[_t,ee.value]])])):y("",!0)])]),e("div",$n,[kn,e("div",Cn,[e("div",jn,[ve(e("input",{"onUpdate:modelValue":l[18]||(l[18]=i=>A.priceMin=i),type:"number",min:ie.value.min,max:A.priceMax,class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"æœ€ä½Ž"},null,8,zn),[[ke,A.priceMin,void 0,{number:!0}]]),Mn,ve(e("input",{"onUpdate:modelValue":l[19]||(l[19]=i=>A.priceMax=i),type:"number",min:A.priceMin,max:ie.value.max,class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"æœ€é«˜"},null,8,Sn),[[ke,A.priceMax,void 0,{number:!0}]])]),e("p",Tn," NT$ "+a(Ee(A.priceMin))+" - NT$ "+a(Ee(A.priceMax)),1)])]),e("button",{class:"w-full py-2 text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:Ne}," é‡è¨­ç¯©é¸æ¢ä»¶ ")]),e("div",Fn,[e("button",{class:"w-full py-3 bg-blue-600 text-white font-medium rounded-lg",onClick:l[20]||(l[20]=i=>fe.value=!1)}," å¥—ç”¨ç¯©é¸ ("+a(de.value.length)+" é …çµæžœ) ",1)])])],2),e("div",Pn,[e("div",An,[e("span",Nn,[R(" é¡¯ç¤º "),e("strong",null,a((_.value-1)*$e+1)+"-"+a(Math.min(_.value*$e,de.value.length)),1),R(" / "+a(de.value.length)+" é …çµæžœ ",1)]),e("div",qn,[v(p(Rt),{size:18,class:"text-gray-400"}),ve(e("select",{"onUpdate:modelValue":l[21]||(l[21]=i=>ce.value=i),class:"text-sm border-0 bg-transparent text-gray-700 font-medium focus:ring-0 cursor-pointer"},[(t(!0),s(N,null,W((st=f.value)==null?void 0:st.sortOptions,i=>(t(),s("option",{key:i.value,value:i.value},a(i.label),9,Rn))),128))],512),[[wt,ce.value]])])]),oe.value?de.value.length>0?(t(),s("div",Dn,[(t(!0),s(N,null,W(dt.value,i=>(t(),G(Dt,{key:i.id,product:i,"show-compare":!0,"is-in-compare":L(i.id),"is-favorite":$(i.id),"search-query":j.value,"category-slug":n.value,onToggleCompare:ue=>B(i),onToggleFavorite:ue=>o(i.id)},null,8,["product","is-in-compare","is-favorite","search-query","category-slug","onToggleCompare","onToggleFavorite"]))),128))])):y("",!0):(t(),s("div",Bn,[(t(),s(N,null,W(6,i=>v(Bt,{key:i})),64))])),se.value>1?(t(),s("div",Ln,[e("button",{class:"p-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",disabled:_.value===1,onClick:l[22]||(l[22]=i=>ye(_.value-1))},[v(p(je),{size:20,class:"text-gray-600"})],8,Wn),me.value[0]>1?(t(),s(N,{key:0},[e("button",{class:"w-10 h-10 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 text-gray-700 font-medium",onClick:l[23]||(l[23]=i=>ye(1))}," 1 "),me.value[0]>2?(t(),s("span",In,"...")):y("",!0)],64)):y("",!0),(t(!0),s(N,null,W(me.value,i=>(t(),s("button",{key:i,class:P(["w-10 h-10 rounded-lg border font-medium",i===_.value?"bg-blue-600 border-blue-600 text-white":"border-gray-200 bg-white hover:bg-gray-50 text-gray-700"]),onClick:ue=>ye(i)},a(i),11,Hn))),128)),me.value[me.value.length-1]<se.value?(t(),s(N,{key:1},[me.value[me.value.length-1]<se.value-1?(t(),s("span",Un,"...")):y("",!0),e("button",{class:"w-10 h-10 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 text-gray-700 font-medium",onClick:l[24]||(l[24]=i=>ye(se.value))},a(se.value),1)],64)):y("",!0),e("button",{class:"p-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",disabled:_.value===se.value,onClick:l[25]||(l[25]=i=>ye(_.value+1))},[v(p(ge),{size:20,class:"text-gray-600"})],8,On)])):y("",!0),se.value>1?(t(),s("div",Vn," ç¬¬ "+a(_.value)+" é ï¼Œå…± "+a(se.value)+" é  ",1)):y("",!0),oe.value&&de.value.length===0?(t(),s("div",En,[v(p(Lt),{size:48,class:"mx-auto text-gray-300 mb-4"}),e("p",Kn,a(u.value?"æ‚¨é‚„æ²’æœ‰æ”¶è—ä»»ä½•å•†å“":"æ²’æœ‰æ‰¾åˆ°ç¬¦åˆæ¢ä»¶çš„ç”¢å“"),1),e("p",Qn,a(u.value?"é»žæ“Šå•†å“å¡ç‰‡ä¸Šçš„æ„›å¿ƒå³å¯æ”¶è—":j.value?`æ‰¾ä¸åˆ°ã€Œ${j.value}ã€ç›¸é—œçš„å•†å“`:"è©¦è©¦èª¿æ•´ç¯©é¸æ¢ä»¶"),1),Oe.value.length>0?(t(),s("div",Gn,[Zn,e("div",Jn,[(t(!0),s(N,null,W(Oe.value,i=>(t(),s("button",{key:i,class:"px-3 py-1.5 text-sm bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",onClick:ue=>ut(i)},a(i),9,Xn))),128))])])):y("",!0),e("button",{class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors",onClick:Ne},a(u.value?"æŸ¥çœ‹å…¨éƒ¨å•†å“":"æ¸…é™¤ç¯©é¸æ¢ä»¶"),1)])):y("",!0)])])]),Yn,v(Re,{name:"fade"},{default:le(()=>[I.value?(t(),s("button",{key:0,class:"fixed bottom-24 right-6 z-50 w-12 h-12 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110",onClick:J,"aria-label":"å›žåˆ°é ‚éƒ¨"},[v(p(Wt),{size:24})])):y("",!0)]),_:1}),v(Re,{name:"slide-up"},{default:le(()=>[w.value.length>0?(t(),s("div",ei,[e("div",ti,[e("div",si,[v(p(lt),{size:20,class:"text-blue-600"}),e("span",li," å·²é¸ "+a(w.value.length)+" / 4 é …å•†å“ ",1),e("div",oi,[(t(!0),s(N,null,W(w.value,i=>(t(),s("div",{key:i.id,class:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded-full text-sm"},[e("span",ai,a(mt(i)||i.model),1),e("button",{class:"text-gray-400 hover:text-red-500",onClick:ue=>O(i.id)},[v(p(ne),{size:14})],8,ri)]))),128))])]),e("div",ni,[e("button",{class:"text-sm text-gray-500 hover:text-gray-700",onClick:l[26]||(l[26]=i=>w.value=[])}," æ¸…é™¤å…¨éƒ¨ "),e("button",{disabled:w.value.length<2,class:P(["px-4 py-2 rounded-lg font-medium transition-colors",w.value.length>=2?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-400 cursor-not-allowed"]),onClick:l[27]||(l[27]=i=>m.value=!0)}," æ¯”è¼ƒ ("+a(w.value.length)+") ",11,ii)])])])):y("",!0)]),_:1}),m.value?(t(),G(Tt,{key:0,products:w.value,onClose:l[28]||(l[28]=i=>m.value=!1),onRemove:O},null,8,["products"])):y("",!0),h.value&&n.value==="dehumidifier"?(t(),G(Ft,{key:1,products:k.value,onClose:l[29]||(l[29]=i=>h.value=!1)},null,8,["products"])):y("",!0),g.value&&n.value==="dehumidifier"?(t(),G(Pt,{key:2,products:k.value,onClose:l[30]||(l[30]=i=>g.value=!1)},null,8,["products"])):y("",!0),h.value&&n.value==="air-purifier"?(t(),G(Ts,{key:3,products:k.value,onClose:l[31]||(l[31]=i=>h.value=!1)},null,8,["products"])):y("",!0),g.value&&n.value==="air-purifier"?(t(),G(pl,{key:4,products:k.value,onClose:l[32]||(l[32]=i=>g.value=!1)},null,8,["products"])):y("",!0),h.value&&n.value==="air-conditioner"?(t(),G(oo,{key:5,products:k.value,onClose:l[33]||(l[33]=i=>h.value=!1)},null,8,["products"])):y("",!0),g.value&&n.value==="air-conditioner"?(t(),G(Jo,{key:6,products:k.value,onClose:l[34]||(l[34]=i=>g.value=!1)},null,8,["products"])):y("",!0),g.value&&n.value==="heater"?(t(),G(Va,{key:7,products:k.value,onClose:l[35]||(l[35]=i=>g.value=!1)},null,8,["products"])):y("",!0),g.value&&n.value==="fan"?(t(),G(qr,{key:8,products:k.value,onClose:l[36]||(l[36]=i=>g.value=!1)},null,8,["products"])):y("",!0)])}}}),xi=Ct(ci,[["__scopeId","data-v-94cfbcd6"]]);export{xi as default};
