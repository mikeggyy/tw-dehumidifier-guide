import{c as Ae,d as pe,r as m,h as y,o as Ie,m as N,e as o,j as c,T as ne,w as G,b as a,i as p,f as e,n as Ee,t as n,F as f,q as k,l as F,p as z,k as d,P as He,E as be,G as he,v as me,s as re,X as ge,x as Ge,a as We,M as Je,A as $e,K as se,N as Ke,L as Se,O as Qe,_ as qe,D as Xe,Q as Ye}from"./70IZNXNn.js";import{u as Re,a as Ze,D as Me,_ as et}from"./Ckwdu9Nn.js";import{S as tt,a as st,b as lt,_ as ot,G as ze,C as at,H as rt,F as nt,c as it,d as ut,P as ct,e as dt,A as gt}from"./DClLL2Eh.js";import{d as Ve,C as ve,S as Pe,W as vt,b as pt,a as bt,F as ht}from"./C7CTvE8P.js";import{T as mt}from"./Bu39Z4jI.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Ae("ArrowRightIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=Ae("ClockIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ft=_=>(be("data-v-06f09c06"),_=_(),he(),_),yt={key:0,class:"fixed inset-0 z-[9999]"},_t=ft(()=>e("div",{class:"absolute inset-0 bg-black/60 backdrop-blur-sm"},null,-1)),wt={class:"absolute inset-0 flex items-center justify-center p-4"},kt={class:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden"},Ct={class:"h-1 bg-gray-200 dark:bg-gray-700"},$t={class:"p-6 text-center"},St={class:"text-5xl mb-4 block animate-bounce"},Mt={class:"text-xl font-bold text-gray-900 dark:text-white mb-2"},zt={class:"text-gray-600 dark:text-gray-300"},Tt={class:"flex justify-center gap-2 pb-4"},At=["onClick"],It={class:"flex items-center justify-between p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},Rt={class:"flex items-center gap-2"},Vt=pe({__name:"OnboardingTour",setup(_,{expose:W}){const C=m(!1),i=m(0),I=[{title:"æ­¡è¿Žä½¿ç”¨æ¯”æ¯”çœ‹ï¼",description:"æˆ‘å€‘å¹«ä½ æ¯”è¼ƒå„ç¨®å®¶é›»çš„è¦æ ¼å’Œåƒ¹æ ¼ï¼Œæ‰¾åˆ°æœ€é©åˆä½ çš„ç”¢å“ã€‚",icon:"ðŸ‘‹",position:"center"},{title:"ç¯©é¸åŠŸèƒ½",description:"ä½¿ç”¨å·¦å´çš„ç¯©é¸å™¨ï¼Œå¯ä»¥ä¾å“ç‰Œã€åƒ¹æ ¼ã€è¦æ ¼å¿«é€Ÿæ‰¾åˆ°æƒ³è¦çš„å•†å“ã€‚",icon:"ðŸ”",target:'[data-tour="filter"]',position:"right"},{title:"å•†å“æ¯”è¼ƒ",description:"é»žæ“Šã€ŒåŠ å…¥æ¯”è¼ƒã€æŒ‰éˆ•ï¼Œæœ€å¤šå¯é¸ 4 æ¬¾å•†å“é€²è¡Œè©³ç´°æ¯”è¼ƒã€‚",icon:"âš–ï¸",target:'[data-tour="compare"]',position:"bottom"},{title:"æ”¶è—å•†å“",description:"é»žæ“Šæ„›å¿ƒåœ–ç¤ºæ”¶è—å–œæ­¡çš„å•†å“ï¼Œä¸‹æ¬¡å†ä¾†æ™‚é‚„èƒ½çœ‹åˆ°ã€‚",icon:"â¤ï¸",target:'[data-tour="favorite"]',position:"left"},{title:"é–‹å§‹æŽ¢ç´¢å§ï¼",description:"æŒ‰ä¸‹éµç›¤çš„ ? éµå¯ä»¥æŸ¥çœ‹æ‰€æœ‰å¿«æ·éµã€‚ç¥ä½ æ‰¾åˆ°å¿ƒå„€çš„å®¶é›»ï¼",icon:"ðŸŽ‰",position:"center"}],$=y(()=>I[i.value]),D=y(()=>(i.value+1)/I.length*100),M=()=>typeof window>"u"?!1:!localStorage.getItem("onboarding-completed"),g=()=>{C.value=!0,i.value=0},w=()=>{i.value<I.length-1?i.value++:R()},B=()=>{i.value>0&&i.value--},R=()=>{C.value=!1,typeof window<"u"&&localStorage.setItem("onboarding-completed","true")},E=()=>{R()};return Ie(()=>{M()&&setTimeout(()=>{g()},1e3)}),W({startTour:g}),(J,S)=>(o(),N(He,{to:"body"},[c(ne,{name:"fade"},{default:G(()=>[C.value?(o(),a("div",yt,[_t,e("div",wt,[e("div",kt,[e("div",Ct,[e("div",{class:"h-full bg-gradient-to-r from-blue-500 to-indigo-500 transition-all duration-300",style:Ee({width:`${D.value}%`})},null,4)]),e("div",$t,[e("span",St,n($.value.icon),1),e("h2",Mt,n($.value.title),1),e("p",zt,n($.value.description),1)]),e("div",Tt,[(o(),a(f,null,k(I,(T,j)=>e("button",{key:j,class:F(["w-2 h-2 rounded-full transition-all",[j===i.value?"w-6 bg-blue-500":j<i.value?"bg-blue-300":"bg-gray-300 dark:bg-gray-600"]]),onClick:oe=>i.value=j},null,10,At)),64))]),e("div",It,[e("button",{class:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",onClick:E}," è·³éŽå°Žè¦½ "),e("div",Rt,[i.value>0?(o(),a("button",{key:0,class:"flex items-center gap-1 px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",onClick:B},[c(d(Ve),{size:18}),z(" ä¸Šä¸€æ­¥ ")])):p("",!0),e("button",{class:"flex items-center gap-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",onClick:w},[z(n(i.value===I.length-1?"é–‹å§‹ä½¿ç”¨":"ä¸‹ä¸€æ­¥")+" ",1),i.value<I.length-1?(o(),N(d(ve),{key:0,size:18})):(o(),N(d(Pe),{key:1,size:18}))])])])])])])):p("",!0)]),_:1})]))}}),Pt=me(Vt,[["__scopeId","data-v-06f09c06"]]),Ft=_=>(be("data-v-e57ce3cb"),_=_(),he(),_),Bt={class:"relative"},Lt={class:"relative"},Nt=["value","placeholder"],jt={key:0,class:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden z-50"},Ot={key:0,class:"p-2"},Ut=Ft(()=>e("p",{class:"text-xs text-gray-400 px-2 mb-2"},"å•†å“å»ºè­°",-1)),Dt=["onMousedown"],Et=["src","alt"],Ht={class:"flex-1 text-left min-w-0"},Gt={class:"text-sm font-medium text-gray-900 dark:text-white truncate"},Wt={class:"text-xs text-blue-600"},Jt={key:1,class:"p-2"},Kt={class:"text-xs text-gray-400 px-2 mb-2 flex items-center gap-1"},Qt=["onMousedown"],qt={key:2,class:"p-2 border-t border-gray-100 dark:border-gray-700"},Xt={class:"text-xs text-gray-400 px-2 mb-2 flex items-center gap-1"},Yt={class:"flex flex-wrap gap-2 px-2"},Zt=["onMousedown"],es=pe({__name:"SearchAutocomplete",props:{modelValue:{},placeholder:{default:"æœå°‹å•†å“..."},categorySlug:{default:""}},emits:["update:modelValue","search","select"],setup(_,{emit:W}){const C=_,i=W,{allProducts:I}=Re(),$=m(!1),D=m(null),M=m(-1),g=m([]),w=()=>{if(!(typeof window>"u"))try{const r=localStorage.getItem("recent-searches");g.value=r?JSON.parse(r):[]}catch{g.value=[]}},B=r=>{!r.trim()||typeof window>"u"||(g.value=[r,...g.value.filter(b=>b!==r)].slice(0,5),localStorage.setItem("recent-searches",JSON.stringify(g.value)))},R=y(()=>{const r=C.modelValue.toLowerCase().trim();return!r||r.length<2?[]:I.value.filter(b=>{if(C.categorySlug&&b.category_slug!==C.categorySlug)return!1;const v=b.name.toLowerCase(),V=(b.brand||"").toLowerCase();return v.includes(r)||V.includes(r)}).slice(0,6)}),E=y(()=>{const r=new Map;return I.value.forEach(b=>{b.brand&&b.brand!=="Other"&&r.set(b.brand,(r.get(b.brand)||0)+1)}),Array.from(r.entries()).sort((b,v)=>v[1]-b[1]).slice(0,5).map(([b])=>b)}),J=y(()=>$.value&&(R.value.length>0||g.value.length>0||!C.modelValue)),S=r=>{i("update:modelValue",r.target.value),M.value=-1},T=()=>{$.value=!0,w()},j=()=>{setTimeout(()=>{$.value=!1},200)},oe=r=>{var V;const b=R.value.length>0?R.value:[],v=b.length-1;switch(r.key){case"ArrowDown":r.preventDefault(),M.value=Math.min(M.value+1,v);break;case"ArrowUp":r.preventDefault(),M.value=Math.max(M.value-1,-1);break;case"Enter":r.preventDefault(),M.value>=0&&b[M.value]?ae(b[M.value]):ie();break;case"Escape":$.value=!1,(V=D.value)==null||V.blur();break}},ae=r=>{i("select",r),$.value=!1},ie=()=>{C.modelValue.trim()&&(B(C.modelValue.trim()),i("search",C.modelValue)),$.value=!1},K=r=>{i("update:modelValue",r),i("search",r),$.value=!1},Q=r=>{i("update:modelValue",r),i("search",r),$.value=!1},q=()=>{var r;i("update:modelValue",""),(r=D.value)==null||r.focus()},x=r=>new Intl.NumberFormat("zh-TW").format(r);return(r,b)=>(o(),a("div",Bt,[e("div",Lt,[c(d(tt),{size:18,class:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e("input",{ref_key:"inputRef",ref:D,type:"text",value:r.modelValue,placeholder:r.placeholder,class:"w-full pl-10 pr-10 py-2.5 bg-gray-100 dark:bg-gray-800 border-0 rounded-xl text-gray-900 dark:text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:bg-white dark:focus:bg-gray-700 transition-all",onInput:S,onFocus:T,onBlur:j,onKeydown:oe},null,40,Nt),r.modelValue?(o(),a("button",{key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onMousedown:re(q,["prevent"])},[c(d(ge),{size:18})],32)):p("",!0)]),c(ne,{name:"dropdown"},{default:G(()=>[J.value?(o(),a("div",jt,[R.value.length>0?(o(),a("div",Ot,[Ut,(o(!0),a(f,null,k(R.value,(v,V)=>(o(),a("button",{key:v.id,class:F(["w-full flex items-center gap-3 p-2 rounded-lg transition-colors",[M.value===V?"bg-blue-50 dark:bg-blue-900/30":"hover:bg-gray-50 dark:hover:bg-gray-700"]]),onMousedown:re(xe=>ae(v),["prevent"])},[e("img",{src:v.image_url,alt:v.name,class:"w-10 h-10 object-cover rounded-lg bg-gray-100"},null,8,Et),e("div",Ht,[e("p",Gt,n(v.name),1),e("p",Wt,"NT$ "+n(x(v.price)),1)])],42,Dt))),128))])):g.value.length>0&&!r.modelValue?(o(),a("div",Jt,[e("p",Kt,[c(d(Te),{size:12}),z(" æœ€è¿‘æœå°‹ ")]),(o(!0),a(f,null,k(g.value,v=>(o(),a("button",{key:v,class:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onMousedown:re(V=>K(v),["prevent"])},[c(d(Te),{size:14,class:"text-gray-400"}),z(" "+n(v),1)],40,Qt))),128))])):p("",!0),!r.modelValue&&E.value.length>0?(o(),a("div",qt,[e("p",Xt,[c(d(mt),{size:12}),z(" ç†±é–€å“ç‰Œ ")]),e("div",Yt,[(o(!0),a(f,null,k(E.value,v=>(o(),a("button",{key:v,class:"px-3 py-1.5 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-blue-100 hover:text-blue-600 dark:hover:bg-blue-900/30 transition-colors",onMousedown:re(V=>Q(v),["prevent"])},n(v),41,Zt))),128))])])):p("",!0)])):p("",!0)]),_:1})]))}}),ts=me(es,[["__scopeId","data-v-e57ce3cb"]]),A=_=>(be("data-v-d25c43ec"),_=_(),he(),_),ss={class:"min-h-screen bg-gray-50"},ls={class:"bg-white border-b border-gray-200 sticky top-0 z-40"},os={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},as={class:"flex items-center justify-between h-16"},rs=A(()=>e("img",{src:et,alt:"æ¯”æ¯”çœ‹",class:"w-8 h-8"},null,-1)),ns=A(()=>e("span",{class:"text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent"},"æ¯”æ¯”çœ‹",-1)),is={class:"bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-700 text-white"},us={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},cs=A(()=>e("div",{class:"text-center mb-8"},[e("h1",{class:"text-3xl sm:text-4xl font-bold mb-3"}," å®¶é›»è¦æ ¼æ¯”è¼ƒï¼Œä¸€ç›®çž­ç„¶ "),e("p",{class:"text-blue-100 text-lg"}," æ¯”è¼ƒå„å“ç‰Œè¦æ ¼ã€åƒ¹æ ¼ï¼Œå¹«ä½ æ‰¾åˆ°æœ€é©åˆçš„å®¶é›» ")],-1)),ds={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-4"},gs={class:"flex flex-col items-center text-center"},vs={class:"font-semibold text-white mb-1"},ps={class:"text-xs text-blue-200 mb-2"},bs={key:0,class:"text-xs bg-white/20 px-2 py-0.5 rounded-full"},hs={key:1,class:"text-xs bg-white/10 px-2 py-0.5 rounded-full text-blue-200"},ms={id:"main-content",class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",role:"main"},xs={class:"mb-6 flex items-center justify-between"},fs={class:"flex items-center gap-2 mb-1"},ys=A(()=>e("h2",{class:"text-2xl font-bold text-gray-900"},"é™¤æ¿•æ©Ÿ",-1)),_s={class:"text-gray-600"},ws={class:"mb-6"},ks={key:0,class:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 rounded-xl"},Cs={class:"flex items-start gap-3"},$s=A(()=>e("div",null,[e("p",{class:"text-sm font-medium text-blue-900"},"ä¸çŸ¥é“é¸å“ªæ¬¾ï¼Ÿ"),e("p",{class:"text-sm text-blue-700 mt-0.5"}," é»žæ“Šå•†å“å¡ç‰‡ä¸‹æ–¹çš„ã€ŒåŠ å…¥æ¯”è¼ƒã€æŒ‰éˆ•ï¼Œæœ€å¤šå¯é¸ 4 æ¬¾ä¸¦æŽ’æ¯”è¼ƒè¦æ ¼ï¼ ")],-1)),Ss={class:"flex flex-wrap gap-3 mb-6"},Ms={class:"flex flex-wrap gap-2 mb-6"},zs=["onClick"],Ts={class:"lg:flex lg:gap-8"},As={class:"absolute right-0 top-0 h-full w-80 lg:w-full lg:relative lg:h-auto bg-white lg:bg-transparent lg:rounded-xl overflow-y-auto"},Is={class:"flex items-center justify-between p-4 border-b border-gray-200 lg:hidden"},Rs=A(()=>e("span",{class:"font-semibold text-gray-900"},"ç¯©é¸æ¢ä»¶",-1)),Vs={class:"p-4 lg:p-0 space-y-6"},Ps={class:"bg-white rounded-xl p-4 lg:border lg:border-gray-200"},Fs=A(()=>e("h3",{class:"font-semibold text-gray-900 mb-3"},"å“ç‰Œ",-1)),Bs={class:"space-y-2"},Ls=["checked","onChange"],Ns={class:"text-gray-700 flex-1"},js={class:"text-xs text-gray-400 group-hover:text-gray-600"},Os={key:0},Us={class:"space-y-2 pl-2 border-l-2 border-gray-100"},Ds=["checked","onChange"],Es={class:"text-gray-600 text-sm flex-1"},Hs={class:"text-xs text-gray-400 group-hover:text-gray-600"},Gs={class:"bg-white rounded-xl p-4 lg:border lg:border-gray-200"},Ws=A(()=>e("h3",{class:"font-semibold text-gray-900 mb-3"},"æ—¥é™¤æ¿•é‡",-1)),Js={class:"space-y-2"},Ks=["value"],Qs={class:"text-gray-700"},qs={class:"bg-white rounded-xl p-4 lg:border lg:border-gray-200"},Xs=A(()=>e("h3",{class:"font-semibold text-gray-900 mb-3"},"åƒ¹æ ¼ç¯„åœ",-1)),Ys={class:"space-y-4"},Zs={class:"flex items-center gap-2"},el=["min","max"],tl=A(()=>e("span",{class:"text-gray-400"},"-",-1)),sl=["min","max"],ll={class:"text-xs text-gray-500"},ol={class:"p-4 border-t border-gray-200 lg:hidden"},al={class:"flex-1"},rl={class:"flex items-center justify-between mb-6 bg-white rounded-xl p-4 border border-gray-200"},nl={class:"text-sm text-gray-600"},il={class:"flex items-center gap-2"},ul=["value"],cl={key:0,class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"},dl={key:1,class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6"},gl={key:2,class:"flex items-center justify-center gap-2 mt-8"},vl=["disabled"],pl={key:0,class:"text-gray-400"},bl=["onClick"],hl={key:0,class:"text-gray-400"},ml=["disabled"],xl={key:3,class:"text-center text-sm text-gray-500 mt-4"},fl={key:4,class:"text-center py-16 bg-white rounded-xl border border-gray-200"},yl={class:"text-gray-900 font-medium mb-2"},_l={class:"text-gray-500 text-sm mb-6"},wl={key:0,class:"mb-6"},kl=A(()=>e("p",{class:"text-sm text-gray-500 mb-2"},"è©¦è©¦æœå°‹é€™äº›å“ç‰Œï¼š",-1)),Cl={class:"flex flex-wrap justify-center gap-2"},$l=["onClick"],Sl=A(()=>e("footer",{class:"bg-white border-t border-gray-200 mt-16"},[e("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},[e("div",{class:"text-center text-gray-500 text-sm"},[e("p",null,"Â© 2025 æ¯”æ¯”çœ‹. æœ¬ç«™åŒ…å«è¯ç›Ÿè¡ŒéŠ·é€£çµã€‚"),e("p",{class:"mt-1"},"åƒ¹æ ¼èˆ‡è¦æ ¼åƒ…ä¾›åƒè€ƒï¼Œè«‹ä»¥å®˜æ–¹å…¬å‘Šç‚ºæº–ã€‚")])])],-1)),Ml={key:0,class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-40 p-4"},zl={class:"max-w-7xl mx-auto flex items-center justify-between"},Tl={class:"flex items-center gap-3"},Al={class:"font-medium text-gray-900"},Il={class:"hidden sm:flex items-center gap-2"},Rl={class:"truncate max-w-[100px]"},Vl=["onClick"],Pl={class:"flex items-center gap-3"},Fl=["disabled"],le=20,Bl=pe({__name:"index",async setup(_){let W,C;[W,C]=Ge(()=>Ze()),await W,C();const{allProducts:i,getAllBrands:I,getPriceRange:$,filterProducts:D,sortProducts:M}=Re(),g=m(1),w=m(""),B=m(null),R=m(!1),E=()=>{R.value=window.scrollY>500},J=()=>{window.scrollTo({top:0,behavior:"smooth"})};Ie(()=>{window.addEventListener("scroll",E),j()}),We(()=>{window.removeEventListener("scroll",E)});const S=m(new Set),T=m(!1),j=()=>{if(typeof window<"u"){const l=localStorage.getItem("dehumidifier-favorites");l&&(S.value=new Set(JSON.parse(l)))}},oe=()=>{typeof window<"u"&&localStorage.setItem("dehumidifier-favorites",JSON.stringify([...S.value]))},ae=l=>{S.value.has(l)?S.value.delete(l):S.value.add(l),S.value=new Set(S.value),oe()},ie=l=>S.value.has(l),K=m(!1),Q=m(!1),q=m(!1),x=m([]),r=l=>{const s=x.value.findIndex(h=>h.id===l.id);s===-1?x.value.length<4&&x.value.push(l):x.value.splice(s,1)},b=l=>x.value.some(s=>s.id===l),v=l=>{x.value=x.value.filter(s=>s.id!==l)},V=[{label:"å°åªæ•¸é¦–é¸",filter:()=>{u.capacityRange="under10"}},{label:"é«˜CPå€¼",filter:()=>{O.value="value_asc"}},{label:"å¤§å®¹é‡",filter:()=>{u.capacityRange="over15"}},{label:"è¶…å€¼æŠ˜æ‰£",filter:()=>{O.value="discount_desc"}},{label:"éœéŸ³æ¬¾",filter:()=>{O.value="noise_asc"}}],xe=l=>{B.value===l.label?(B.value=null,de()):(B.value=l.label,l.filter())},Fe=l=>{l<=10?u.capacityRange="under10":l<=15?u.capacityRange="10to15":u.capacityRange="over15"},ue=y(()=>i.value.length>0),fe=y(()=>I()),X=y(()=>$()),Y=m(!1),ye=["Panasonic","HITACHI","Mitsubishi","SHARP","LG","SAMPO","HERAN","Whirlpool","DAIKIN"],Be=y(()=>fe.value.filter(l=>ye.some(s=>l.toUpperCase().includes(s.toUpperCase())))),ce=y(()=>fe.value.filter(l=>!ye.some(s=>l.toUpperCase().includes(s.toUpperCase())))),_e=l=>i.value.filter(s=>s.brand===l).length,u=Je({brands:[],capacityRange:"all",priceMin:0,priceMax:1e5});$e(ue,l=>{if(l){const s=X.value;u.priceMin=s.min,u.priceMax=s.max}},{immediate:!0});const O=m("popularity"),Z=m(!1),U=y(()=>{let l=D(u);if(w.value.trim()){const s=w.value.toLowerCase().trim();l=l.filter(h=>h.name.toLowerCase().includes(s)||h.brand.toLowerCase().includes(s)||h.model.toLowerCase().includes(s))}return T.value&&(l=l.filter(s=>S.value.has(s.id))),M(l,O.value)}),we=y(()=>U.value.length>0||!w.value.trim()?[]:["Panasonic","HITACHI","SHARP","LG","Mitsubishi"].filter(s=>i.value.some(h=>h.brand.toUpperCase().includes(s.toUpperCase()))).slice(0,3)),P=y(()=>Math.ceil(U.value.length/le)),Le=y(()=>{const l=(g.value-1)*le,s=l+le;return U.value.slice(l,s)}),H=y(()=>{const l=P.value,s=g.value,h=[];if(l<=5)for(let t=1;t<=l;t++)h.push(t);else if(s<=3)h.push(1,2,3,4,5);else if(s>=l-2)for(let t=l-4;t<=l;t++)h.push(t);else for(let t=s-2;t<=s+2;t++)h.push(t);return h}),ee=l=>{l>=1&&l<=P.value&&(g.value=l,window.scrollTo({top:0,behavior:"smooth"}))};$e([()=>u.brands,()=>u.capacityRange,()=>u.priceMin,()=>u.priceMax,O,w],()=>{g.value=1});const ke=l=>{const s=u.brands.indexOf(l);s===-1?u.brands.push(l):u.brands.splice(s,1)},de=()=>{u.brands=[],u.capacityRange="all",u.priceMin=X.value.min,u.priceMax=X.value.max,O.value="popularity",B.value=null,w.value="",T.value=!1},Ne=l=>{w.value=l},Ce=l=>new Intl.NumberFormat("zh-TW").format(l),je=l=>{const s=l.brand;if(s&&s!=="Other")return s;const h=l.name.match(/ã€([^ã€‘]+)ã€‘/);return h?h[1]:""},Oe=[{value:"popularity",label:"ç†±é–€æŽ¨è–¦"},{value:"discount_desc",label:"æŠ˜æ‰£å¹…åº¦"},{value:"value_asc",label:"CPå€¼æœ€é«˜ï¼ˆèŠ±æœ€å°‘éŒ¢è²·åˆ°æœ€å¼·é™¤æ¿•åŠ›ï¼‰"},{value:"price_asc",label:"åƒ¹æ ¼ï¼šä½Žåˆ°é«˜"},{value:"price_desc",label:"åƒ¹æ ¼ï¼šé«˜åˆ°ä½Ž"},{value:"capacity_desc",label:"é™¤æ¿•åŠ›ï¼šå¼·åˆ°å¼±"},{value:"noise_asc",label:"æœ€å®‰éœ"}],Ue=[{value:"all",label:"å…¨éƒ¨å®¹é‡"},{value:"under10",label:"10L ä»¥ä¸‹"},{value:"10to15",label:"10-15L"},{value:"over15",label:"15L ä»¥ä¸Š"}],te=l=>l==="dehumidifier"?i.value.filter(s=>s.category_slug==="dehumidifier"||!s.category_slug).length:i.value.filter(s=>s.category_slug===l).length,De=y(()=>[{slug:"dehumidifier",name:"é™¤æ¿•æ©Ÿ",icon:Me,description:"æ¢…é›¨å­£å¿…å‚™",color:"from-blue-500 to-cyan-400",bgColor:"bg-blue-50",textColor:"text-blue-600",count:te("dehumidifier"),isActive:!0},{slug:"air-purifier",name:"ç©ºæ°£æ¸…æ·¨æ©Ÿ",icon:vt,description:"æ·¨åŒ–ç©ºæ°£å“è³ª",color:"from-green-500 to-emerald-400",bgColor:"bg-green-50",textColor:"text-green-600",count:te("air-purifier"),isActive:!0},{slug:"air-conditioner",name:"å†·æ°£",icon:pt,description:"å¤æ—¥æ¸…æ¶¼é¦–é¸",color:"from-cyan-500 to-blue-400",bgColor:"bg-cyan-50",textColor:"text-cyan-600",count:te("air-conditioner"),isActive:!0},{slug:"heater",name:"é›»æš–å™¨",icon:bt,description:"å†¬å­£ä¿æš–ç¥žå™¨",color:"from-orange-500 to-red-400",bgColor:"bg-orange-50",textColor:"text-orange-600",count:te("heater"),isActive:!0},{slug:"fan",name:"é›»é¢¨æ‰‡",icon:ht,description:"çœé›»æ¶¼çˆ½",color:"from-indigo-500 to-purple-400",bgColor:"bg-indigo-50",textColor:"text-indigo-600",count:te("fan"),isActive:!0}]);return(l,s)=>{const h=qe;return o(),a("div",ss,[e("header",ls,[e("div",os,[e("div",as,[c(h,{to:"/",class:"flex items-center gap-2"},{default:G(()=>[rs,ns]),_:1})])])]),e("section",is,[e("div",us,[cs,e("div",ds,[(o(!0),a(f,null,k(De.value,t=>(o(),N(h,{key:t.slug,to:t.isActive?`/${t.slug}`:void 0,class:F(["relative group rounded-2xl p-4 transition-all duration-300",t.isActive?"bg-white/10 hover:bg-white/20 backdrop-blur-sm cursor-pointer hover:scale-105 hover:shadow-xl":"bg-white/5 cursor-not-allowed opacity-60"])},{default:G(()=>[e("div",gs,[e("div",{class:F(["w-12 h-12 rounded-xl flex items-center justify-center mb-3 transition-transform group-hover:scale-110",t.isActive?"bg-white/20":"bg-white/10"])},[(o(),N(Xe(t.icon),{size:24,class:"text-white"}))],2),e("h3",vs,n(t.name),1),e("p",ps,n(t.description),1),t.isActive?(o(),a("span",bs,n(t.count)+" æ¬¾ ",1)):(o(),a("span",hs," æ•¬è«‹æœŸå¾… "))])]),_:2},1032,["to","class"]))),128))])])]),e("main",ms,[e("div",xs,[e("div",null,[e("div",fs,[c(d(Me),{size:24,class:"text-blue-600"}),ys]),e("p",_s," æ”¶éŒ„ "+n(d(i).length)+" æ¬¾ç†±é–€é™¤æ¿•æ©Ÿï¼Œæ¯”è¼ƒè¦æ ¼ã€åƒ¹æ ¼ ",1)]),c(h,{to:"/dehumidifier",class:"hidden sm:flex items-center gap-1 text-blue-600 hover:text-blue-700 font-medium text-sm"},{default:G(()=>[z(" æŸ¥çœ‹å®Œæ•´åˆ—è¡¨ "),c(d(xt),{size:16})]),_:1})]),e("div",ws,[c(ts,{modelValue:w.value,"onUpdate:modelValue":s[0]||(s[0]=t=>w.value=t),placeholder:"æœå°‹å“ç‰Œã€åž‹è™Ÿ...",class:"max-w-md","data-tour":"search"},null,8,["modelValue"])]),x.value.length===0?(o(),a("div",ks,[e("div",Cs,[c(d(ze),{size:20,class:"text-blue-600 flex-shrink-0 mt-0.5"}),$s])])):p("",!0),e("div",Ss,[e("button",{class:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-blue-500 text-white font-medium rounded-xl hover:from-blue-700 hover:to-blue-600 shadow-sm transition-all",onClick:s[1]||(s[1]=t=>K.value=!0)},[c(d(at),{size:18}),z(" åªæ•¸è¨ˆç®—å™¨ ")]),e("button",{class:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-600 to-pink-500 text-white font-medium rounded-xl hover:from-purple-700 hover:to-pink-600 shadow-sm transition-all",onClick:s[2]||(s[2]=t=>Q.value=!0)},[c(d(Pe),{size:18}),z(" å¹«æˆ‘é¸ ")]),S.value.size>0?(o(),a("button",{key:0,class:F(["flex items-center gap-2 px-4 py-2.5 font-medium rounded-xl transition-all",T.value?"bg-red-500 text-white":"bg-white border border-gray-200 text-gray-700 hover:border-red-300 hover:text-red-500"]),onClick:s[3]||(s[3]=t=>T.value=!T.value)},[c(d(rt),{size:18,fill:T.value?"currentColor":"none"},null,8,["fill"]),z(" æˆ‘çš„æ”¶è— ("+n(S.value.size)+") ",1)],2)):p("",!0)]),e("div",Ms,[(o(),a(f,null,k(V,t=>e("button",{key:t.label,class:F(["px-3 py-1.5 text-sm rounded-full transition-all",B.value===t.label?"bg-blue-600 text-white border border-blue-600 shadow-sm":"bg-white border border-gray-200 text-gray-700 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-600"]),onClick:L=>xe(t)},n(t.label),11,zs)),64))]),e("div",Ts,[e("button",{class:"lg:hidden w-full mb-4 flex items-center justify-center gap-2 px-4 py-3 bg-white rounded-lg border border-gray-200 text-gray-700 font-medium",onClick:s[4]||(s[4]=t=>Z.value=!0)},[c(d(nt),{size:20}),z(" ç¯©é¸æ¢ä»¶ ")]),e("aside",{class:F(["fixed inset-0 z-50 lg:relative lg:inset-auto","lg:block lg:w-64 lg:flex-shrink-0",Z.value?"block":"hidden"])},[e("div",{class:"absolute inset-0 bg-black/50 lg:hidden",onClick:s[5]||(s[5]=t=>Z.value=!1)}),e("div",As,[e("div",Is,[Rs,e("button",{onClick:s[6]||(s[6]=t=>Z.value=!1)},[c(d(ge),{size:24,class:"text-gray-500"})])]),e("div",Vs,[e("div",Ps,[Fs,e("div",Bs,[(o(!0),a(f,null,k(Be.value,t=>(o(),a("label",{key:t,class:"flex items-center gap-2 cursor-pointer group"},[e("input",{type:"checkbox",checked:u.brands.includes(t),class:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500",onChange:L=>ke(t)},null,40,Ls),e("span",Ns,n(t),1),e("span",js,n(_e(t)),1)]))),128)),ce.value.length>0?(o(),a("div",Os,[e("button",{class:"flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium mt-2 mb-2",onClick:s[7]||(s[7]=t=>Y.value=!Y.value)},[c(d(ve),{size:16,class:F(["transition-transform",Y.value?"rotate-90":""])},null,8,["class"]),z(" "+n(Y.value?"æ”¶èµ·":`å…¶ä»–å“ç‰Œ (${ce.value.length})`),1)]),se(e("div",Us,[(o(!0),a(f,null,k(ce.value,t=>(o(),a("label",{key:t,class:"flex items-center gap-2 cursor-pointer group"},[e("input",{type:"checkbox",checked:u.brands.includes(t),class:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500",onChange:L=>ke(t)},null,40,Ds),e("span",Es,n(t),1),e("span",Hs,n(_e(t)),1)]))),128))],512),[[Ke,Y.value]])])):p("",!0)])]),e("div",Gs,[Ws,e("div",Js,[(o(),a(f,null,k(Ue,t=>e("label",{key:t.value,class:"flex items-center gap-2 cursor-pointer"},[se(e("input",{type:"radio",value:t.value,"onUpdate:modelValue":s[8]||(s[8]=L=>u.capacityRange=L),class:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"},null,8,Ks),[[Ye,u.capacityRange]]),e("span",Qs,n(t.label),1)])),64))])]),e("div",qs,[Xs,e("div",Ys,[e("div",Zs,[se(e("input",{"onUpdate:modelValue":s[9]||(s[9]=t=>u.priceMin=t),type:"number",min:X.value.min,max:u.priceMax,class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"æœ€ä½Ž"},null,8,el),[[Se,u.priceMin,void 0,{number:!0}]]),tl,se(e("input",{"onUpdate:modelValue":s[10]||(s[10]=t=>u.priceMax=t),type:"number",min:u.priceMin,max:X.value.max,class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"æœ€é«˜"},null,8,sl),[[Se,u.priceMax,void 0,{number:!0}]])]),e("p",ll," NT$ "+n(Ce(u.priceMin))+" - NT$ "+n(Ce(u.priceMax)),1)])]),e("button",{class:"w-full py-2 text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:de}," é‡è¨­ç¯©é¸æ¢ä»¶ ")]),e("div",ol,[e("button",{class:"w-full py-3 bg-blue-600 text-white font-medium rounded-lg",onClick:s[11]||(s[11]=t=>Z.value=!1)}," å¥—ç”¨ç¯©é¸ ("+n(U.value.length)+" é …çµæžœ) ",1)])])],2),e("div",al,[e("div",rl,[e("span",nl,[z(" é¡¯ç¤º "),e("strong",null,n((g.value-1)*le+1)+"-"+n(Math.min(g.value*le,U.value.length)),1),z(" / "+n(U.value.length)+" é …çµæžœ ",1)]),e("div",il,[c(d(it),{size:18,class:"text-gray-400"}),se(e("select",{"onUpdate:modelValue":s[12]||(s[12]=t=>O.value=t),class:"text-sm border-0 bg-transparent text-gray-700 font-medium focus:ring-0 cursor-pointer"},[(o(),a(f,null,k(Oe,t=>e("option",{key:t.value,value:t.value},n(t.label),9,ul)),64))],512),[[Qe,O.value]])])]),ue.value?U.value.length>0?(o(),a("div",dl,[(o(!0),a(f,null,k(Le.value,t=>(o(),N(ct,{key:t.id,product:t,"show-compare":!0,"is-in-compare":b(t.id),"is-favorite":ie(t.id),"search-query":w.value,"category-slug":"dehumidifier",onToggleCompare:L=>r(t),onToggleFavorite:L=>ae(t.id)},null,8,["product","is-in-compare","is-favorite","search-query","onToggleCompare","onToggleFavorite"]))),128))])):p("",!0):(o(),a("div",cl,[(o(),a(f,null,k(6,t=>c(ut,{key:t})),64))])),P.value>1?(o(),a("div",gl,[e("button",{class:"p-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",disabled:g.value===1,onClick:s[13]||(s[13]=t=>ee(g.value-1))},[c(d(Ve),{size:20,class:"text-gray-600"})],8,vl),H.value[0]>1?(o(),a(f,{key:0},[e("button",{class:"w-10 h-10 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 text-gray-700 font-medium",onClick:s[14]||(s[14]=t=>ee(1))}," 1 "),H.value[0]>2?(o(),a("span",pl,"...")):p("",!0)],64)):p("",!0),(o(!0),a(f,null,k(H.value,t=>(o(),a("button",{key:t,class:F(["w-10 h-10 rounded-lg border font-medium",t===g.value?"bg-blue-600 border-blue-600 text-white":"border-gray-200 bg-white hover:bg-gray-50 text-gray-700"]),onClick:L=>ee(t)},n(t),11,bl))),128)),H.value[H.value.length-1]<P.value?(o(),a(f,{key:1},[H.value[H.value.length-1]<P.value-1?(o(),a("span",hl,"...")):p("",!0),e("button",{class:"w-10 h-10 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 text-gray-700 font-medium",onClick:s[15]||(s[15]=t=>ee(P.value))},n(P.value),1)],64)):p("",!0),e("button",{class:"p-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",disabled:g.value===P.value,onClick:s[16]||(s[16]=t=>ee(g.value+1))},[c(d(ve),{size:20,class:"text-gray-600"})],8,ml)])):p("",!0),P.value>1?(o(),a("div",xl," ç¬¬ "+n(g.value)+" é ï¼Œå…± "+n(P.value)+" é  ",1)):p("",!0),ue.value&&U.value.length===0?(o(),a("div",fl,[c(d(dt),{size:48,class:"mx-auto text-gray-300 mb-4"}),e("p",yl,n(T.value?"æ‚¨é‚„æ²’æœ‰æ”¶è—ä»»ä½•å•†å“":"æ²’æœ‰æ‰¾åˆ°ç¬¦åˆæ¢ä»¶çš„ç”¢å“"),1),e("p",_l,n(T.value?"é»žæ“Šå•†å“å¡ç‰‡ä¸Šçš„æ„›å¿ƒå³å¯æ”¶è—":w.value?`æ‰¾ä¸åˆ°ã€Œ${w.value}ã€ç›¸é—œçš„å•†å“`:"è©¦è©¦èª¿æ•´ç¯©é¸æ¢ä»¶"),1),we.value.length>0?(o(),a("div",wl,[kl,e("div",Cl,[(o(!0),a(f,null,k(we.value,t=>(o(),a("button",{key:t,class:"px-3 py-1.5 text-sm bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",onClick:L=>Ne(t)},n(t),9,$l))),128))])])):p("",!0),e("button",{class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors",onClick:de},n(T.value?"æŸ¥çœ‹å…¨éƒ¨å•†å“":"æ¸…é™¤ç¯©é¸æ¢ä»¶"),1)])):p("",!0)])])]),Sl,c(ne,{name:"fade"},{default:G(()=>[R.value?(o(),a("button",{key:0,class:"fixed bottom-24 right-6 z-50 w-12 h-12 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-110",onClick:J,"aria-label":"å›žåˆ°é ‚éƒ¨"},[c(d(gt),{size:24})])):p("",!0)]),_:1}),c(ne,{name:"slide-up"},{default:G(()=>[x.value.length>0?(o(),a("div",Ml,[e("div",zl,[e("div",Tl,[c(d(ze),{size:20,class:"text-blue-600"}),e("span",Al," å·²é¸ "+n(x.value.length)+" / 4 é …å•†å“ ",1),e("div",Il,[(o(!0),a(f,null,k(x.value,t=>(o(),a("div",{key:t.id,class:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded-full text-sm"},[e("span",Rl,n(je(t)||t.model),1),e("button",{class:"text-gray-400 hover:text-red-500",onClick:L=>v(t.id)},[c(d(ge),{size:14})],8,Vl)]))),128))])]),e("div",Pl,[e("button",{class:"text-sm text-gray-500 hover:text-gray-700",onClick:s[17]||(s[17]=t=>x.value=[])}," æ¸…é™¤å…¨éƒ¨ "),e("button",{disabled:x.value.length<2,class:F(["px-4 py-2 rounded-lg font-medium transition-colors",x.value.length>=2?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-200 text-gray-400 cursor-not-allowed"]),onClick:s[18]||(s[18]=t=>q.value=!0)}," æ¯”è¼ƒ ("+n(x.value.length)+") ",11,Fl)])])])):p("",!0)]),_:1}),K.value?(o(),N(st,{key:0,products:d(i),onClose:s[19]||(s[19]=t=>K.value=!1),onApplyFilter:Fe},null,8,["products"])):p("",!0),Q.value?(o(),N(lt,{key:1,products:d(i),onClose:s[20]||(s[20]=t=>Q.value=!1)},null,8,["products"])):p("",!0),q.value?(o(),N(ot,{key:2,products:x.value,onClose:s[21]||(s[21]=t=>q.value=!1),onRemove:v},null,8,["products"])):p("",!0),c(Pt)])}}}),Dl=me(Bl,[["__scopeId","data-v-d25c43ec"]]);export{Dl as default};
